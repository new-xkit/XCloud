{"id":"mass_deleter","script":"//* TITLE Mass Deleter **//\r\n//* VERSION 0.1 REV G **//\r\n//* DESCRIPTION Mass unlike likes / delete drafts **//\r\n//* DETAILS Used to mass unlike posts or delete drafts. Please use with caution, especially Mass Unlike part is extremely experimental. **//\r\n//* DEVELOPER STUDIOXENIX **//\r\n//* FRAME false **//\r\n//* BETA false **//\r\n\r\nXKit.extensions.mass_deleter = new Object({\r\n\r\n\trunning: false,\r\n\r\n\tpreferences: {\r\n\t\t\"enable_mass_unlike\": {\r\n\t\t\ttext: \"Enable Mass Unlike Functionality (Extremely Experimental! Use with caution.)\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false,\r\n\t\t\texperimental: true\r\n\t\t}\r\n\t},\r\n\r\n\trun: function() {\r\n\t\tthis.running = true;\r\n\r\n\t\tXKit.tools.init_css(\"mass_deleter\");\r\n\r\n\t\tif (XKit.interface.where().likes === true) {\r\n\t\t\tif (XKit.extensions.mass_deleter.preferences.enable_mass_unlike.value === true) {\r\n\t\t\t\tXKit.extensions.mass_deleter.init_likes();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (XKit.interface.where().drafts === true) {\r\n\t\t\tXKit.extensions.mass_deleter.init_drafts();\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tinit_drafts: function() {\r\n\r\n\t\tif ($(\"#drafts_plus_sidebar\").length > 0) {\r\n\r\n\t\t\txf_html = '<li class=\"no_push\">' +\r\n\t\t\t\t\t'<a href=\"#\" class=\"customize xkit-mass-deleter\" onclick=\"return false;\" id=\"xkit-mass-deleter-100\">' +\r\n\t\t\t\t\t\t'<div class=\"hide_overflow\">Delete 100 Drafts</div>' +\r\n\t\t\t\t\t'</a>' +\r\n\t\t\t\t'</li>' +\r\n\t\t\t\t'<li class=\"no_push\">' +\r\n\t\t\t\t\t'<a href=\"#\" class=\"customize xkit-mass-deleter\" onclick=\"return false;\" id=\"xkit-mass-deleter-1000\">' +\r\n\t\t\t\t\t\t'<div class=\"hide_overflow\">Delete 1,000 Drafts</div>' +\r\n\t\t\t\t\t'</a>' +\r\n\t\t\t\t'</li>';\r\n\r\n\t\t\t$(\"#drafts_plus_sidebar\").append(xf_html);\r\n\r\n\t\t} else {\r\n\r\n\t\t\txf_html = '<ul class=\"controls_section\" id=\"xkit-mass-deleter-ul\">' +\r\n\t\t\t\t'<li class=\"section_header selected\">MASS DELETER</li>' +\r\n\t\t\t\t'<li class=\"no_push\">' +\r\n\t\t\t\t\t'<a href=\"#\" class=\"customize xkit-mass-deleter\" onclick=\"return false;\" id=\"xkit-mass-deleter-100\">' +\r\n\t\t\t\t\t\t'<div class=\"hide_overflow\">Delete 100 Drafts</div>' +\r\n\t\t\t\t\t'</a>' +\r\n\t\t\t\t'</li>' +\r\n\t\t\t\t'<li class=\"no_push\">' +\r\n\t\t\t\t\t'<a href=\"#\" class=\"customize xkit-mass-deleter\" onclick=\"return false;\" id=\"xkit-mass-deleter-1000\">' +\r\n\t\t\t\t\t\t'<div class=\"hide_overflow\">Delete 1,000 Drafts</div>' +\r\n\t\t\t\t\t'</a>' +\r\n\t\t\t\t'</li>' +\r\n\t\t\t\t'</ul>';\r\n\t\t\t$(\"ul.controls_section:eq(1)\").before(xf_html);\r\n\r\n\t\t}\r\n\r\n\t\t$(\"#xkit-mass-deleter-100\").click(function() {\r\n\t\t\tXKit.extensions.mass_deleter.delete_drafts(100);\r\n\t\t});\r\n\r\n\t\t$(\"#xkit-mass-deleter-1000\").click(function() {\r\n\t\t\tXKit.extensions.mass_deleter.delete_drafts(1000);\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tdelete_drafts_limit: 0,\r\n\tdelete_drafts_page: 1,\r\n\tdelete_drafts_array: new Array(),\r\n\r\n\tdelete_from_array_current: 0,\r\n\tdelete_from_array_max: 0,\r\n\r\n\tdelete_next_max: 3,\r\n\tdelete_next_current: 0,\r\n\r\n\tdelete_fail_count: 0,\r\n\r\n\tdelete_last_post_id: 0,\r\n\r\n\tdelete_drafts: function(limit) {\r\n\r\n\t\tXKit.extensions.mass_deleter.delete_drafts_limit = limit;\r\n\t\tXKit.extensions.mass_deleter.delete_drafts_array = new Array();\r\n\t\tXKit.extensions.mass_deleter.delete_drafts_page = 1;\r\n\r\n\t\tXKit.window.show(\"Mass Deleting Drafts\",\"<b>This might take a long, long time...</b><div id=\\\"xkit-mass-deleter-status\\\">Initializing: Gathering post ids..</div>\" + XKit.progress.add(\"mass-deleter-progress\"),\"info\");\r\n\r\n\t\tvar posts = XKit.interface.get_posts();\r\n\r\n\t\t$(posts).each(function() {\r\n\r\n\t\t\tvar m_post = XKit.interface.post($(this));\r\n\t\t\tXKit.extensions.mass_deleter.delete_drafts_array.push(m_post.id + \";\" + m_post.reblog_key);\r\n\r\n\t\t});\r\n\r\n\t\tXKit.extensions.mass_deleter.delete_fail_count = 0;\r\n\t\tXKit.extensions.mass_deleter.delete_next_current = 0;\r\n\r\n\t\tXKit.extensions.mass_deleter.delete_last_post_id = $(\".post_container\").last().find(\".post\").attr('data-post-id');\r\n\r\n\t\tif (typeof XKit.extensions.mass_deleter.delete_last_post_id === \"undefined\") {\r\n\t\t\tXKit.extensions.mass_deleter.delete_last_post_id = $(\".post\").last().attr('data-post-id');\r\n\t\t}\r\n\r\n\t\tXKit.extensions.mass_deleter.delete_drafts_page++;\r\n\t\tXKit.extensions.mass_deleter.delete_next_page();\r\n\r\n\r\n\t},\r\n\r\n\tdelete_current_array: function() {\r\n\r\n\t\t$(\"#xkit-mass-deleter-status\").html(\"Deleting posts..\");\r\n\t\tXKit.extensions.mass_deleter.delete_from_array_max = XKit.extensions.mass_deleter.delete_drafts_array.length;\r\n\t\tsetTimeout(function() { XKit.extensions.mass_deleter.delete_current_array_next(); }, 250);\r\n\r\n\t},\r\n\r\n\tdelete_current_array_next: function() {\r\n\r\n\t\tif (XKit.extensions.mass_deleter.delete_drafts_array.length === 0) {\r\n\t\t\tXKit.window.show(\"Complete!\",\"<b>Deleted \" + (XKit.extensions.mass_deleter.delete_from_array_max - XKit.extensions.mass_deleter.delete_fail_count) + \" posts.<br/>Failed to delete \" + XKit.extensions.mass_deleter.delete_fail_count + \" posts.</b><br/><br/>Please refresh the page before deleting more drafts.\",\"info\",\"<div id=\\\"xkit-close-message-2\\\" class=\\\"xkit-button default\\\">OK</div>\");\r\n\r\n\t\t\t$(\"#xkit-close-message-2\").click(function() {\r\n\t\t\t\tlocation.reload();\r\n\t\t\t\tXKit.window.close();\r\n\t\t\t});\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar current_id = XKit.extensions.mass_deleter.delete_drafts_array.pop();\r\n\r\n\t\tvar post_id = current_id.split(\";\")[0];\r\n\t\tvar reblog_key = current_id.split(\";\")[1];\r\n\r\n\t\tconsole.log(\"Deleting post, id = \" + post_id + \" | reblog_key = \" + reblog_key);\r\n\r\n\t\tvar m_object = new Object();\r\n\r\n\t\tvar m_array = document.location.href.split(\"/\");\r\n\t\tvar m_channel_id = m_array[4];\r\n\r\n\t\tm_object.post_id = post_id;\r\n\t\tm_object.form_key = XKit.interface.form_key();\r\n\t\tm_object.channel_id = m_channel_id;\r\n\r\n\t\tGM_xmlhttpRequest({\r\n\t\t\tmethod: \"POST\",\r\n\t\t\turl: \"http://www.tumblr.com/svc/post/delete\",\r\n\t\t\tdata: JSON.stringify(m_object),\r\n\t\t\tjson: true,\r\n\t\t\tonerror: function(response) {\r\n\t\t\t\tconsole.log(\"Unable to unlike post with id \" + post_id);\r\n\t\t\t\tXKit.extensions.mass_deleter.delete_fail_count++;\r\n\t\t\t\tsetTimeout(function() { XKit.extensions.mass_deleter.delete_current_array_next(); }, 250);\r\n\t\t\t},\r\n\t\t\tonload: function(response) {\r\n\t\t\t\tconsole.log(\"| --- Successfully unliked post!\");\r\n\t\t\t\tvar percentage = 100 - parseInt((100 * XKit.extensions.mass_deleter.delete_drafts_array.length) / XKit.extensions.mass_deleter.delete_from_array_max);\r\n\t\t\t\tXKit.progress.value(\"mass-deleter-progress\", percentage);\r\n\t\t\t\t$(\"#xkit-mass-deleter-status\").html(\"Deleting posts.. (\" + XKit.extensions.mass_deleter.delete_drafts_array.length + \" posts left)\");\r\n\t\t\t\tsetTimeout(function() { XKit.extensions.mass_deleter.delete_current_array_next(); }, 250);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tdelete_next_page: function() {\r\n\r\n\t\t$(\"#xkit-mass-deleter-status\").html(\"Initializing: Gathering post ids.. (page \" + XKit.extensions.mass_deleter.delete_drafts_page + \", total: \"  + XKit.extensions.mass_deleter.delete_drafts_array.length + \")\");\r\n\r\n\t\tvar m_url = document.location.href.replace(\"#\",\"\");\r\n\r\n\t\tm_url = m_url + \"/after/\" + XKit.extensions.mass_deleter.delete_last_post_id;\r\n\r\n\t\tconsole.log(\"Fetching \" + m_url);\r\n\r\n\t\tGM_xmlhttpRequest({\r\n\t\t\tmethod: \"GET\",\r\n\t\t\turl: m_url,\r\n\t\t\tonerror: function(response) {\r\n\t\t\t\tXKit.window.close();\r\n\t\t\t\tXKit.extensions.mass_deleter.display_error();\r\n\t\t\t},\r\n\t\t\tonload: function(response) {\r\n\r\n\t\t\t\tvar m_div = $(\"<div>\" + response.responseText + \"</div>\");\r\n\r\n\t\t\t\tvar stop_action = false;\r\n\r\n\t\t\t\tif ($(\".no_posts_found\", m_div).length > 0) {\r\n\t\t\t\t\t// Posts ended!\r\n\t\t\t\t\t// But it might be Tumblr messing up.\r\n\t\t\t\t\tconsole.log(\"current = \" + XKit.extensions.mass_deleter.delete_next_current);\r\n\t\t\t\t\tconsole.log(\"    max = \" + XKit.extensions.mass_deleter.delete_next_max);\r\n\t\t\t\t\tif (XKit.extensions.mass_deleter.delete_next_current >= XKit.extensions.mass_deleter.delete_next_max) {\r\n\t\t\t\t\t\treturn XKit.extensions.mass_deleter.delete_current_array();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"Page empty, but retrying anyways...\");\r\n\t\t\t\t\t\tXKit.extensions.mass_deleter.delete_next_current++;\r\n\t\t\t\t\t\tXKit.extensions.mass_deleter.delete_drafts_page++;\r\n\t\t\t\t\t\tsetTimeout(function() { XKit.extensions.mass_deleter.delete_next_page(); }, 200);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tXKit.extensions.mass_deleter.delete_next_current = 0;\r\n\r\n\t\t\t\t$(\".post\",m_div).each(function() {\r\n\t\t\t\t\tvar m_post = XKit.interface.post($(this));\r\n\t\t\t\t\tif (XKit.extensions.mass_deleter.delete_drafts_array.length >= XKit.extensions.mass_deleter.delete_drafts_limit) {\r\n\t\t\t\t\t\tXKit.extensions.mass_deleter.delete_current_array();\r\n\t\t\t\t\t\tstop_action = true;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!stop_action) {\r\n\t\t\t\t\t\tXKit.extensions.mass_deleter.delete_last_post_id = m_post.id;\r\n\t\t\t\t\t\tif (XKit.extensions.mass_deleter.delete_drafts_array.indexOf(m_post.id + \";\" + m_post.reblog_key) === -1) {\r\n\t\t\t\t\t\t\tXKit.extensions.mass_deleter.delete_drafts_array.push(m_post.id + \";\" + m_post.reblog_key);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(\"Post already in array, skipping.\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (stop_action) { return; }\r\n\r\n\t\t\t\tXKit.extensions.mass_deleter.delete_drafts_page++;\r\n\t\t\t\tsetTimeout(function() { XKit.extensions.mass_deleter.delete_next_page(); }, 200);\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tinit_likes: function() {\r\n\r\n\t\txf_html = '<ul class=\"controls_section\" id=\"xkit-mass-deleter-ul\">' +\r\n\t\t\t'<li class=\"no_push\">' +\r\n\t\t\t\t'<a href=\"#\" class=\"customize xkit-mass-deleter\" onclick=\"return false;\" id=\"xkit-mass-deleter-100\">' +\r\n\t\t\t\t\t'<div class=\"hide_overflow\">Unlike 100 Likes</div>' +\r\n\t\t\t\t'</a>' +\r\n\t\t\t'</li>' +\r\n\t\t\t'<li class=\"no_push\">' +\r\n\t\t\t\t'<a href=\"#\" class=\"customize xkit-mass-deleter\" onclick=\"return false;\" id=\"xkit-mass-deleter-1000\">' +\r\n\t\t\t\t\t'<div class=\"hide_overflow\">Unlike 1,000 Likes</div>' +\r\n\t\t\t\t'</a>' +\r\n\t\t\t'</li>' +\r\n\t\t\t'</ul>';\r\n\t\t$(\"ul.controls_section:eq(1)\").before(xf_html);\r\n\r\n\t\t$(\"#xkit-mass-deleter-100\").click(function() {\r\n\t\t\tXKit.extensions.mass_deleter.unlike_likes(100);\r\n\t\t});\r\n\r\n\t\t$(\"#xkit-mass-deleter-1000\").click(function() {\r\n\t\t\tXKit.extensions.mass_deleter.unlike_likes(1000);\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tunlike_likes_limit: 0,\r\n\tunlike_likes_page: 1,\r\n\tunlike_likes_array: new Array(),\r\n\r\n\tunlike_from_array_current: 0,\r\n\tunlike_from_array_max: 0,\r\n\r\n\tunlike_next_max: 30,\r\n\tunlike_next_current: 0,\r\n\r\n\tunlike_fail_count: 0,\r\n\r\n\tunlike_likes: function(limit) {\r\n\r\n\t\tXKit.window.show(\"Warning!\",\"Due to the way Tumblr works, mass unliking posts might or might not cause older likes to not show up. This is a very experimental feature and no support is provided. Please only continue if you are sure that you want to do this.\",\"warning\",\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-mass-deleter-unlike-continue\\\">Continue</div><div class=\\\"xkit-button\\\" id=\\\"xkit-close-message\\\">Cancel</div>\");\r\n\r\n\t\t$(\"#xkit-mass-deleter-unlike-continue\").click(function() {\r\n\r\n\t\t\tXKit.extensions.mass_deleter.unlike_likes_limit = limit;\r\n\t\t\tXKit.extensions.mass_deleter.unlike_likes_array = new Array();\r\n\t\t\tXKit.extensions.mass_deleter.unlike_likes_page = 1;\r\n\r\n\t\t\tXKit.window.show(\"Mass Unliking Posts\",\"<b>This might take a long, long time...</b><div id=\\\"xkit-mass-deleter-status\\\">Initializing: Gathering post ids..</div>\" + XKit.progress.add(\"mass-deleter-progress\"),\"info\");\r\n\r\n\t\t\tvar posts = XKit.interface.get_posts();\r\n\r\n\t\t\t$(posts).each(function() {\r\n\r\n\t\t\t\tvar m_post = XKit.interface.post($(this));\r\n\t\t\t\tXKit.extensions.mass_deleter.unlike_likes_array.push(m_post.id + \";\" + m_post.reblog_key);\r\n\r\n\t\t\t});\r\n\r\n\t\t\tXKit.extensions.mass_deleter.unlike_fail_count = 0;\r\n\t\t\tXKit.extensions.mass_deleter.unlike_next_current = 0;\r\n\t\t\tXKit.extensions.mass_deleter.unlike_likes_page++;\r\n\t\t\tXKit.extensions.mass_deleter.unlike_next_page();\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tunlike_current_array: function() {\r\n\r\n\t\t$(\"#xkit-mass-deleter-status\").html(\"Unliking posts..\");\r\n\t\tXKit.extensions.mass_deleter.unlike_from_array_max = XKit.extensions.mass_deleter.unlike_likes_array.length;\r\n\t\tsetTimeout(function() { XKit.extensions.mass_deleter.unlike_current_array_next(); }, 450);\r\n\r\n\t},\r\n\r\n\tunlike_current_array_next: function() {\r\n\r\n\t\tif (XKit.extensions.mass_deleter.unlike_likes_array.length === 0) {\r\n\t\t\tconsole.log(\tXKit.extensions.mass_deleter.unlike_likes_array);\r\n\t\t\tXKit.window.show(\"Complete!\",\"<b>Unliked \" + (XKit.extensions.mass_deleter.unlike_from_array_max - XKit.extensions.mass_deleter.unlike_fail_count) + \" posts.<br/>Failed to unlike \" + XKit.extensions.mass_deleter.unlike_fail_count + \" posts.</b><br/><br/>You might get a \\\"No Posts Found\\\" page when visiting the Likes page after Mass Unliking. Like a few posts and try again in a few hours, and it should return to normal. If XKit is unable to unlike posts, it's Tumblr's servers trying to adjust to unlikes. Try again in a couple of hours before Mass Unliking again.\",\"info\",\"<div id=\\\"xkit-close-message\\\" class=\\\"xkit-button default\\\">OK</div>\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar current_id = XKit.extensions.mass_deleter.unlike_likes_array.pop();\r\n\r\n\t\tvar post_id = current_id.split(\";\")[0];\r\n\t\tvar reblog_key = current_id.split(\";\")[1];\r\n\r\n\t\tconsole.log(\"Unliking post, id = \" + post_id + \" | reblog_key = \" + reblog_key);\r\n\r\n\t\tvar m_data = \"form_key=\" + XKit.interface.form_key() + \"&data%5Bid%5D=\" + post_id + \"&data%5Bkey%5D=\" + reblog_key + \"&data%5Bsource%5D=UNLIKE_SOURCE_IFRAME\";\r\n\t\tGM_xmlhttpRequest({\r\n\t\t\tmethod: \"POST\",\r\n\t\t\turl: \"http://www.tumblr.com/svc/unlike\",\r\n\t\t\tdata: m_data,\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\"\r\n\t\t\t},\r\n\t\t\tjson: false,\r\n\t\t\tonerror: function(response) {\r\n\t\t\t\tconsole.log(\"Unable to unlike post with id \" + post_id);\r\n\t\t\t\tXKit.extensions.mass_deleter.unlike_fail_count++;\r\n\t\t\t\tsetTimeout(function() { XKit.extensions.mass_deleter.unlike_current_array_next(); }, 450);\r\n\t\t\t},\r\n\t\t\tonload: function(response) {\r\n\t\t\t\tconsole.log(\"| --- Successfully unliked post!\");\r\n\t\t\t\tvar percentage = 100 - parseInt((100 * XKit.extensions.mass_deleter.unlike_likes_array.length) / XKit.extensions.mass_deleter.unlike_from_array_max);\r\n\t\t\t\tXKit.progress.value(\"mass-deleter-progress\", percentage);\r\n\t\t\t\t$(\"#xkit-mass-deleter-status\").html(\"Unliking posts.. (\" + XKit.extensions.mass_deleter.unlike_likes_array.length + \" posts left)\");\r\n\t\t\t\tsetTimeout(function() { XKit.extensions.mass_deleter.unlike_current_array_next(); }, 450);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tunlike_next_page: function() {\r\n\r\n\t\t$(\"#xkit-mass-deleter-status\").html(\"Initializing: Gathering post ids.. (page \" + XKit.extensions.mass_deleter.unlike_likes_page + \", total: \"  + XKit.extensions.mass_deleter.unlike_likes_array.length + \")\");\r\n\r\n\t\tGM_xmlhttpRequest({\r\n\t\t\tmethod: \"GET\",\r\n\t\t\turl: \"http://www.tumblr.com/likes/page/\" + XKit.extensions.mass_deleter.unlike_likes_page + \"?t=\" + XKit.tools.random_string(),\r\n\t\t\tjson: false,\r\n\t\t\tonerror: function(response) {\r\n\t\t\t\tXKit.window.close();\r\n\t\t\t\tXKit.extensions.mass_deleter.display_error();\r\n\t\t\t\treturn;\r\n\t\t\t},\r\n\t\t\tonload: function(response) {\r\n\r\n\t\t\t\tvar m_div = $(\"<div>\" + response.responseText + \"</div>\");\r\n\r\n\t\t\t\tvar stop_action = false;\r\n\r\n\t\t\t\tif ($(\".no_posts_found\", m_div).length > 0) {\r\n\t\t\t\t\t// Posts ended!\r\n\t\t\t\t\t// But it might be Tumblr messing up.\r\n\t\t\t\t\tconsole.log(\"current = \" + XKit.extensions.mass_deleter.unlike_next_current);\r\n\t\t\t\t\tconsole.log(\"    max = \" + XKit.extensions.mass_deleter.unlike_next_max);\r\n\t\t\t\t\tif (XKit.extensions.mass_deleter.unlike_next_current >= XKit.extensions.mass_deleter.unlike_next_max) {\r\n\t\t\t\t\t\treturn XKit.extensions.mass_deleter.unlike_current_array();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"Page empty, but retrying anyways...\");\r\n\t\t\t\t\t\tXKit.extensions.mass_deleter.unlike_next_current++;\r\n\t\t\t\t\t\tXKit.extensions.mass_deleter.unlike_likes_page++;\r\n\t\t\t\t\t\tsetTimeout(function() { XKit.extensions.mass_deleter.unlike_next_page(); }, 400);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tXKit.extensions.mass_deleter.unlike_next_current = 0;\r\n\r\n\t\t\t\t$(\".post\",m_div).each(function() {\r\n\t\t\t\t\tvar m_post = XKit.interface.post($(this));\r\n\t\t\t\t\tif (XKit.extensions.mass_deleter.unlike_likes_array.length >= XKit.extensions.mass_deleter.unlike_likes_limit) {\r\n\t\t\t\t\t\tXKit.extensions.mass_deleter.unlike_current_array();\r\n\t\t\t\t\t\tstop_action = true;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!stop_action) {\r\n\t\t\t\t\t\tXKit.extensions.mass_deleter.unlike_likes_array.push(m_post.id + \";\" + m_post.reblog_key);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (stop_action) { return; }\r\n\r\n\t\t\t\tXKit.extensions.mass_deleter.unlike_likes_page++;\r\n\t\t\t\tsetTimeout(function() { XKit.extensions.mass_deleter.unlike_next_page(); }, 400);\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tdisplay_error: function() {\r\n\r\n\t\tXKit.window.show(\"Unable to perform task\",\"Please try again later or file a bug report at the XKit blog.\",\"error\",\"<div id=\\\"xkit-close-message\\\" class=\\\"xkit-button default\\\">OK</div>\");\r\n\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tthis.running = false;\r\n\t\t$(\"#xkit-mass-deleter-ul\").remove();\r\n\t}\r\n\r\n});","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjExQzlDMzgyMTRGMTFFM0IyMThFNEQ0NkQ3REQ0QzMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjExQzlDMzkyMTRGMTFFM0IyMThFNEQ0NkQ3REQ0QzMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGMTFDOUMzNjIxNEYxMUUzQjIxOEU0RDQ2RDdERDRDMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGMTFDOUMzNzIxNEYxMUUzQjIxOEU0RDQ2RDdERDRDMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgS2HqQAAAWWSURBVHjajFY7bx1FFD4zdx3Hju1r+/oR/MKBkioNKDUVBXQICsQvoKQAiY4GiV+AUtCgKKBQRSko6JBoEH8ABCkCcnydBDtyHndn5vB958yuLwiirO+uZ2dnznee35nw06c/hJkQYwhxEGIQDMSuELSolKxFiqrmolnzBHfmXJtKKvkpxiXnFvNpUrQUadMkFckt9ratiOYmNBAbo9hjYNL7OwYVlaAxS8E4C1QRidjmesQmFuIHaBcHEC+ZimEXJqihKjTHFOTOAMLE8qc+CAMsIj5/uAec41/kBLShEpyMtFhdJcCaEvUK0d7NK8S0T/gXTA+zRH1P6K4pH9peqaBNlE49u+tHm6VEMUmh4piVYsr1SO624NoEgzFtgmuganIc/czTNF7gx6oh/pUg0itptsc66CZC/7mIOye4h/waiKvrixr3HuJREVWkM8c+JY/a5Q9fk6nrx4++17qF6qtorwMCbeZIolwAmCiFEepRi+74Vz64LP9/Xfns9enX796/wRxDPtcJ7W5tSslIMYpGpseBxYfQt2/+AhiqhipAMrIUMEA1FFQA3zFuC+sg5fHPf0AA8rTItLMAmWCBLYXnotK8LjFefe/K4fGRPMc1mlu99vYXngAGkDsMRjPyNVPFXMxPeHJGXtp5WZ7vurS1nxPUDNrmflKTe0iiFb4qrCYHZMPBTN6/+KIvHV5Y6retLq70435+f7RHYZCD2CX6lLmhNQiRrk9gGPqPMNCl5fPSxr7vv/X5zV7otU++6sc3Pr7ug53hNjMKanl4zdN9qCMjRo0VlIX/MAJRRNz2VrZ91fHto6X5RR8/uXPsg4XzF+7/Oq4Ai1tMH/AV1M8JM23xZG9hEAAwicTINKW1DLHf7nDX9x88uLu5sunj0uXh5vLG4cNDH2/NbUpCFBC/RLfDBxaEYhGPhQpn0C9g/FfsuXZ+NDsziyWHJ0frw7Vqc1v9s760fnR6D4P52flRXPQErsmjXtu0CXCRsZ3QL3AR7NA2kdFTzk+Sx/nw+O7G0nq1IFfvri+uHZ0yiffX99pH2Imw4hN8AC9gGhK0simkF6udklKB6BYY2Z5pb51eOjgZbyx0AMnZRzbmR4dmwe7ydmJf4kctlpyW7GYH78jYJkosrRkBvMQBmtTeyo656HBtbvVfAKPzq2OzYHd5FwqptbDcihFU0uTSidJA+5i0tspIfkQTUqPHvSEBxifjUQfAIvSCmFsdPyTAzsIWm5plfqHQzHRVy1tGQRvgZ/a1wm7UkLAZLgAUeWGeyfPng4NzMuNyTx8/9sFsjgcndzG4eG4EmdLKhEILySJV3Vu1DnPr3a9JcYPonUrZYmorezqT3rz6Dhk+DhAokntsEnORHRyKN4Pmm7eu6iO4U6yIi04q3dFjwtQCm1aC8pZqlFsRmhw3hmugPJfuyVGDQbfIzspWOvXMYhUghXqW5jAlrIs4aJSnhRVIUiL9Eg0SEfpJ2hntPoPmdpa3maCg9TKBSLssUDWFrBsZ8eRaZUxT4KWMurOy2B1uPQtgaVtKC+kkiS4vUQdUUlUc+9s3vgx+yEAo+uNCT5l7w/mNhTP20pArE/BxcufeyW/3jT2d6Djb0vdcH+A7dDTkkvkTnaFIPSmUuj6Ev34f4+fVD8+lUqUHz8qkvSuMhNjU2BlK7gpNmnbCU8MgWnAb4op2bc/EYdvAOziLKNDd7KHiVGOdwFgKWCkZdjmTAACutnZq/EpZpVohvdXOK+hYmgxUpeaaGeD5btJL7QdTbbkJpe2OHjzQJK5GSuEQmmSqtyq5wE4DPWOadEYE6Vff+zZzdrho1I8vPEyksz4UJqrSSyvTezqSQfrxeEPpwX0vXbBrrbgFxblb/ysNwz+VsRueR3YEO9DwhF4PhjIt/cxJqn8LMAARHl/PPEs13gAAAABJRU5ErkJggg==","css":".xkit-mass-deleter:after {\r\n\r\n\tcontent: \"A\" !important;\r\n\tfont-size: 0px !important;\r\n\tbackground: 2px 8px no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODhENjIzOTIzNkU3MTFFM0E0MTFDNDE2OTFDMzA4QzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODhENjIzOTMzNkU3MTFFM0E0MTFDNDE2OTFDMzA4QzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4OEQ2MjM5MDM2RTcxMUUzQTQxMUM0MTY5MUMzMDhDNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4OEQ2MjM5MTM2RTcxMUUzQTQxMUM0MTY5MUMzMDhDNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqjeWf8AAACXSURBVHjavJXdCYAwDIQP5+giHc4pnKTTdJzYgpEarUkgepCXcHyQ5qcgIgyRW9QWSeSfIh3ePOYljKVBGcbKEjjCNKiEXaAz2Aw6g53QbtroXQzVYF0FRmM1epK1FDJWATjex/TO1g5amwY4xsI0Vgui9WXJoU0JHZvwwS5/rp7nOKir5zlf6up5Dqy6eqvjC7h5dwEGAJB8Ujp93FMQAAAAAElFTkSuQmCC) !important;\r\n\twidth: 23px !important;\r\n\topacity: 0.42;\r\n\r\n}","title":"Mass Deleter","description":"Mass unlike likes / delete drafts","developer":"STUDIOXENIX","version":"0.1 REV G","frame":"false","beta":"false","details":"Used to mass unlike posts or delete drafts. Please use with caution, especially Mass Unlike part is extremely experimental.","file":"found","server":"up","errors":false,"slow":"false"}