{"id":"autoscroll","script":"//* TITLE Auto Scroll **//\r\n//* VERSION 1.1.0 **//\r\n//* DESCRIPTION Scrolls the page at a variable pace. **//\r\n//* DETAILS Automatically scrolls the dashboard. Scrolling stops upon clicking outside the control.  **//\r\n//* DEVELOPER Fr33dan **//\r\n//* BETA true **//\r\n\r\nXKit.extensions.autoscroll = new Object({\r\n\r\n  running: false,\r\n\tpreferences: {\r\n\t\t\"StepsOnControl\": {\r\n\t\t\ttext: \"Number of steps to have on the control:\",\r\n\t\t\ttype: \"text\",\r\n\t\t\tdefault: \"6\",\r\n\t\t\tvalue: \"6\"\r\n\t\t},\r\n\t\t\"PixelsPerSecond\": {\r\n\t\t\ttext: \"Maximum number of pixels per second:\",\r\n\t\t\ttype: \"text\",\r\n\t\t\tdefault: \"300\",\r\n\t\t\tvalue: \"300\"\r\n\t\t},\r\n\t\t\"sep0\": {\r\n\t\t\ttext: \"Advanced (Changing these settings could slow down your browser)\",\r\n\t\t\ttype: \"separator\"\r\n\t\t},\r\n\t\t\"RefreshRate\": {\r\n\t\t\ttext: \"Number of times to scroll the page per second:\",\r\n\t\t\ttype: \"text\",\r\n\t\t\tdefault: \"50\",\r\n\t\t\tvalue: \"50\",\r\n\t\t}\r\n\t},\r\n\timageCode: '<img alt=\"\" class = \"auto_scroll_control_label\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAA8CAYAAABvnTosAAAABmJLR0QALABGAGGz0NnGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYNBS4cBpMfpAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAABR0lEQVRIx+2XP0sEMRDFf7sWouUJcpBOCHLFQcDG1i8hVnf4p9TuPoqlFoqF+jksbA6CoCcG7LKNYKkoeGcT9Fh3kyyKXJHX7WzeI29mGDIQgDa26/ufB8gt4EYb26s7k3nIc0ABLLvQkpLiOeoG2liAsykywJU2Nou10Ae2SrEO0Ata0MZ2gNsae2OgraR4qryBNnYRGHpykwPXPgtDYCFQ2RVt7P4PC9rYI2CXeAglRZE58iZwQTM8AKuZNrYN3AHvpQNvFaT50vfA10iTckxJkTVq5RgkgSSQBGZFIGEWkKZyEkgCSeBrHvzJM+83D83cTZpL4LihwIaS4jsHSoo94D6SfKCkKKqSuAa8BsiPSorDyiooKV6cyKSGPAbWvWVUUoyA7RqBneltxdcHJ8B5KTYCTv9n7XNWPtymBtCvIkchtPp+Ahg0ZGEfAWuKAAAAAElFTkSuQmCC\" />',\r\n\r\n\trun: function() {\r\n\t\tthis.running = true;\r\n\t\tthis.initControl();\r\n\r\n\t\t// We cannot make references to the \"this\" that has the preferences\r\n\t\t// inside a nested functions. Load the values from it ahead of time.\r\n\t\tvar totalStepCount = Number(this.preferences.StepsOnControl.value);\r\n\t\tvar maxSpeed = Number(this.preferences.PixelsPerSecond.value);\r\n\t\tvar smoothingFactor = 1 / Number(this.preferences.RefreshRate.value);\r\n\r\n\t\tvar controlSteps = $(\".auto_scroll_control_step\");\r\n\t\tvar currentStep = null;\r\n\t\tvar isScrolling = false;\r\n\t\tvar middleNumber = Math.round(totalStepCount / 2);\r\n\t\tvar scrollFunction = function(){\r\n\t\t\tvar stepNumber = 0;\r\n\t\t\tvar numberOfSteps = 0;\r\n\t\t\tvar directionFactor = 1;\r\n\t\t\tif(Number(currentStep) < middleNumber)\r\n\t\t\t{\r\n\t\t\t\tnumberOfSteps = middleNumber;\r\n\t\t\t\tdirectionFactor = -1;\r\n\t\t\t\tstepNumber = middleNumber - Number(currentStep);\r\n\t\t\t} else\r\n\t\t\t{\r\n\t\t\t\tnumberOfSteps = totalStepCount - middleNumber;\r\n\t\t\t\tstepNumber = Number(currentStep) - middleNumber + 1;\r\n\t\t\t\tdirectionFactor = 1;\r\n\t\t\t}\r\n\t\t\twindow.scrollBy(0,maxSpeed * smoothingFactor * directionFactor);\r\n\t\t\tif(isScrolling){\r\n\t\t\t\tvar timerRatio = stepNumber/numberOfSteps;\r\n\t\t\t\tsetTimeout(scrollFunction,1000 * smoothingFactor / timerRatio);\r\n\t\t\t}\r\n\t\t};\r\n\t\t$(document).on(\"click\",\".auto_scroll_control_step\", function(event){\r\n\t\t\t// Mark and store the selected speed.\r\n\t\t\tcontrolSteps.removeAttr(\"selected\");\r\n\t\t\t$(event.target).attr(\"selected\",\"true\");\r\n\t\t\tcurrentStep = $(event.target).attr(\"number\");\r\n\t\t\tXKit.console.add(\"Scroll index: \" + currentStep);\r\n\r\n\t\t\t// Start scrolling\r\n\t\t\tvar wasScrolling = isScrolling;\r\n\t\t\tisScrolling = true;\r\n\t\t\t// Function must be started after isScrolling is set\r\n\t\t\t// to prevent possible race condition.\r\n\t\t\tif(wasScrolling === false)\r\n\t\t\t{\r\n\t\t\t\tXKit.console.add(\"Scrolling Started\");\r\n\t\t\t\tsetTimeout(scrollFunction,50);\r\n\t\t\t}\r\n\r\n\t\t\t// Prevent click event from being processed further.\r\n\t\t\tevent.stopPropagation();\r\n\t\t});\r\n\r\n\t\t$(document).on(\"click\", null, function(event){\r\n\t\t\tif(isScrolling === true)\r\n\t\t\t{\r\n\t\t\t\tisScrolling = false;\r\n\t\t\t\tcontrolSteps.removeAttr(\"selected\");\r\n\t\t\t\tXKit.console.add(\"Scrolling stopped\");\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tinitControl: function(){\r\n\t\tXKit.tools.init_css(\"autoscroll\");\r\n\t\t// HTML for control\r\n\t\tvar m_html = \t'<div class=\"auto_scroll_control_container\"><table style=\"table-layout: fixed\"><td>';\r\n\t\tfor(var j = 0; j < this.preferences.StepsOnControl.value; j++)\r\n\t\t{\r\n\t\t\tm_html += '<div class=\"auto_scroll_control_step\" number = ' + j + '/>';\r\n\r\n\t\t\tif(j + 1 == Math.round(this.preferences.StepsOnControl.value / 2))\r\n\t\t\t{\r\n\t\t\t\tm_html += '<div class = \"auto_scroll_control_center\"/>';\r\n\t\t\t}\r\n\t\t}\r\n\t\tm_html += '</td><td>' + this.imageCode + '</td></div>';\r\n\t\t// Place it at the bottom of the document because it is fixed position\r\n\t\t// anyway\r\n\t\t$(document.body).append(m_html);\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tthis.running = false;\r\n\t}\r\n\r\n});\r\n","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QAKwBGAGEB8AXWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QYNDSwW2mPFgAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAD5klEQVRYw+2XS2xVVRSGv33uBS2tqabtBCWAGELjoBBFqa+kwYgRmogTa6qSBhrDoDxSResDKVWZdGKtVh2QNBEhcWCMDBRMJCFqSlBjok54SIgxgQpVaqOtvet3sPd5XAvS3iLExH2z7z33nLXXWvtfj38fV9/0lLiCI+IKj/+2A8vvXEJD/eJpOZAvdeETzY2sXHE3AAtvvIG3du29fA5sb29hcV1t8n/linuouq6SV3p3lRACCQkESEIISaBQHMmlwDl6OtuKjMdj2W119HS2gXMo+5GCklSZ4omI/P3YisC8oMlPYYDhXMTO7i3Mmz/ngruZN38OO7u34HBeT9iELOhKZnhmIsIEGJJlBOLde8+vmpFnzxsvUl1TdVFIq2uqePf1reTzETIhMxTv3PyuwRJ0IsOwGAGRwO8dMcpnXc2eN7soK5816bhWXFPBe293UVFelhgSqSOxfiSfA6CASHqNjOprK9nd10l+5oypZ/fMmezu66SqsrIIcoXQEtDwSZjEKw3BTXOvp793Ky6XK7nGXS5Hf+8LzJ1dk4Q1m5MSRCaQzANkAhlL6xby6o4nwblpdzoXRfR1d7C0blHIM8uE2cjNrr19W1oi8MDyZTy9seWSt9yGu27l7NlfOHL8RwIWCIe7ZXXbRDb0JU/2gRPIZQT4m0AsBF4wWSAIP14mfIWQ5JF5T7L2FfyT87oQJhIpAU5KHHJhjQtFljomLxcMuuJH4CAvr3nCZpCykQm3UikDnMVAeG2yGCW/KAHBvGCy1SQTHfmkE5536Dz/U7RENi6pUjIxLtqF8wmf4mbk47qPl6269w42rH/0X+H+nr532PvJ53GgcEA+bhKx4x/u/4zTZ4Z46fm2S2r8ua7XOPT19zEQnm8QkRT6snkiEmLgy+9Y3/7yP4Rm8kNmrNvQycBX33r447YcdEdxe/QeWUIYR46fpGndM6hQKN14ocAjrR2cOPlTMa1n+CASxeQAvjVLYvDnIR5a08746NiUjY+PjrF6TTuDZ4aKzhhmGd6RiBL6TeynEAnx6/AIjY9t5veRkUkb/+3cMKuaN3JueKTo8JGl5Zh3opSGDRRTMxlUYPSPURqbNzN4avCixk+fGuTBx9sZG/uz6HyhzHlApMwYeXgsVHHMWJaiEU4w44UCD7c+y7GjP1zQ+LGjJ2hq7aBQKKQHm+zMhoLseUCeBf3pK2WquJ3E2WtWYO2mLg4f/maC8YMHD7F20/YQYz8dmoACyoRCkKtZsGTbVBNs34EBKsvLqF20AID3P/iYHT39pdH1zfe1lFzs9zfUYzL2HRi4/C8mAB99+sX/L6fTHn8BFZEB6tEPLlEAAAAASUVORK5CYII=","css":".auto_scroll_control_container{\r\n  position:fixed;\r\n\tleft:50px;\r\n\tbottom:50px;\r\n\t}\r\n\r\n.auto_scroll_control_center{\r\n\twidth:26px;\r\n\theight:5px;\r\n\tbackground-color:#272c30;\r\n\t}\r\n\r\n.auto_scroll_control_step{\r\n\tposition:relative;\r\n\tleft:2px;\r\n\twidth:20px;\r\n\theight:10px;\r\n\tborder: 1px solid #aaaaaa;\r\n\tbackground-color:#d0dbe5;\r\n\tmargin-top:auto;\r\n\tmargin-bottom:auto;\r\n\t}\r\n\r\n\r\n.auto_scroll_control_step[selected]{\r\n\tbackground-color:#718ea9;\r\n\t}\r\n\r\n.auto_scroll_control_label{\r\n\tmargin:auto;\r\n\tvertical-align:middle;\r\n\t}\r\n","title":"Auto Scroll","description":"Scrolls the page at a variable pace.","developer":"Fr33dan","version":"1.1.0","beta":"true","details":"Automatically scrolls the dashboard. Scrolling stops upon clicking outside the control.","file":"found","server":"up","errors":false,"frame":"false","slow":"false"}