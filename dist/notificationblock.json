{"id":"notificationblock","script":"//* TITLE NotificationBlock **//\r\n//* VERSION 1.2 REV A **//\r\n//* DESCRIPTION Blocks notifications from a post **//\r\n//* DEVELOPER STUDIOXENIX **//\r\n//* DETAILS One post got way too popular and now just annoying you? Click on the notification block icon on that post to hide the notifications from that post. If you have Go-To-Dash installed, you can click on a notification, then click View button on top-right corner to quickly go back to the post on your dashboard.  **//\r\n//* FRAME false **//\r\n//* BETA false **//\r\n\r\nXKit.extensions.notificationblock = new Object({\r\n\r\n\trunning: false,\r\n\tbutton_icon: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjUxNjI3RkQxNjVDMTFFM0E2RkFCMjhCQTdGQjEwOTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjUxNjI3RkUxNjVDMTFFM0E2RkFCMjhCQTdGQjEwOTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2NTE2MjdGQjE2NUMxMUUzQTZGQUIyOEJBN0ZCMTA5MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2NTE2MjdGQzE2NUMxMUUzQTZGQUIyOEJBN0ZCMTA5MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgYk6NEAAAEhSURBVHjaYmDAD44C8Q5ckv///0fBjFjUWILUAfEJKA0CjLgMIwS+AvEnmHokA1cD8QJSXYbsGnQ2CDPhchkTA2mAEZ8kqYbBQAMQFxCjEDmccLH/AfEXSsMMhQ00AEO/OxC3ADEfmgt0kNi6WFzJCWUrAfFdWGR8hEouQDMMF+5Bcog/ED8C4g8ww85CFYHCwYKAQfVIBn1BEm+EGVaKJHgGj0GiUEMEoBbDxM8DMS/MMBEg/kbIe1DFpVjk5qMn4GkEDDsCVfwJi9wPIH6CbJgKEP8mwmUgcAqL/Fr0rDWBgOuYsMT2e1hOQDeMF5RecBi0FKp4LZIYyIUm+IojUOJ8jsUwKahiGP8qELMRU7ZJQMuur8heRDIsBVdBCRBgAOnA+a8Ss3qFAAAAAElFTkSuQmCC\",\r\n\tbutton_ok: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0FDNkNDNzYxNkVEMTFFM0E2RkFCMjhCQTdGQjEwOTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0FDNkNDNzcxNkVEMTFFM0E2RkFCMjhCQTdGQjEwOTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3QUM2Q0M3NDE2RUQxMUUzQTZGQUIyOEJBN0ZCMTA5MCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3QUM2Q0M3NTE2RUQxMUUzQTZGQUIyOEJBN0ZCMTA5MCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhNHAxwAAAFhSURBVHjaYsxeqs2ABxwF4s9A7IFLwZSoK3A2CxZ5SyD+D8QngNiKgQSAzbA9QPwXiPnQxFcD8VcgTiDFMC4cakOgLsZpGBMDaYARnySphsFAAxAXEONNYkAdEH8D4gnUcBnIu9zYvOkOxC1YYk8Hia2LK6JylukoAfFdmDdXQQ2SQYupy0jsS0jsHqSI8AfiyTCHgFx2ByoRB8QWRAR8CZT9BYg3ALEsEE+EuWwFEBtBbZuCxyAxIH4NxAJA/A7JdRegrgW7bD4Qf4dKGOMxDGRQKRC/R0tvF4D58zPMsDdAvICA945C6VoscpHACHiCnDT6gPgPHsOsoTQooE+jybED8Ulkw0CRMJWA62BqTZHEPgBxIdCbweiJFuSFezgMWgbE/4B4LZIYyIWuQIMmYMsBoEAMAOIXWAwrhdJBUPoaENsA8Rl82QmUUA2BeA0078EAsgWpQAwqnn+h2wgQYAAh60jncAp2xAAAAABJRU5ErkJggg==\",\r\n\tblacklisted: new Array(),\r\n\r\n\tpreferences: {\r\n\r\n\t\task: {\r\n\t\t\ttext: \"Show the confirmation window\",\r\n\t\t\tdefault: true,\r\n\t\t\tvalue: true\r\n\t\t},\r\n\r\n\t\ton_notifications: {\r\n\t\t\ttext: \"Show the NotificationBlock button ('block') on notifications\",\r\n\t\t\tdefault: true,\r\n\t\t\tvalue: true\r\n\t\t}\r\n\r\n\t},\r\n\r\n\trun: function() {\r\n\r\n\t\tthis.running = true;\r\n\r\n\t\tif (XKit.interface.where().inbox === true) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tXKit.tools.init_css(\"notificationblock\");\r\n\r\n\t\ttry {\r\n\r\n\t\t\tif (XKit.interface.where().activity === true) {\r\n\t\t\t\tif (XKit.installed.check(\"activity_plus\") === true) {\r\n\t\t\t\t\tif (typeof XKit.extensions.activity_plus !== \"undefined\") {\r\n\t\t\t\t\t\tif (typeof XKit.extensions.activity_plus.preferences !== \"undefined\") {\r\n\t\t\t\t\t\t\tif (XKit.extensions.activity_plus.preferences.condensed_notes.value !== false) {\r\n\t\t\t\t\t\t\t\tif (XKit.storage.get(\"notificationblock\",\"shown_warning_activity_plus\",\"\") !== \"yes\") {\r\n\t\t\t\t\t\t\t\t\tXKit.notifications.add(\"NotificationBlock will not work: You have Activity+'s Group Notes feature on. Click here to learn more and disable this warning\",\"warning\", true, function() {\r\n\t\t\t\t\t\t\t\t\t\tXKit.window.show(\"NotificationBlock will not work on this page.\",\"<b>Activity+ extension's \\\"Group Notifications by Post\\\" feature disables NotificationBlock on Activity page.</b><br/><br/>If you would like to use NotificationBlock on your Activity page, please disable this feature from XKit Control Panel > Activity+ > \\\"Group Notifications by Post\\\".\",\"error\",\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-close-message\\\">OK</div>\");\r\n\t\t\t\t\t\t\t\t\t\tXKit.storage.set(\"notificationblock\",\"shown_warning_activity_plus\",\"yes\");\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} catch(e) {\r\n\r\n\t\t\tconsole.log(\"Init notificationblock error => \" + e.message);\r\n\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tvar m_blacklist = XKit.storage.get(\"notificationblock\",\"posts\",\"\").split(\",\");\r\n\t\t\tif (m_blacklist !== \"\") {\r\n\t\t\t\tthis.blacklisted = m_blacklist;\r\n\t\t\t}\r\n\t\t} catch(e) {\r\n\t\t\tXKit.storage.set(\"notificationblock\",\"posts\",\"\");\r\n\t\t\tthis.blacklisted = new Array();\r\n\t\t}\r\n\r\n\t\tif ($(\"#posts\").length > 0 ||$(\".notification\").length > 0 ||$(\".ui_note\").length > 0) {\r\n\t\t\t$(document).on('click','.xnotificationblockbutton', XKit.extensions.notificationblock.on_click);\r\n\t\t\tXKit.interface.create_control_button(\"xnotificationblockbutton\", this.button_icon, \"NotificationBlock\", \"\", this.button_ok);\r\n\t\t\tXKit.post_listener.add(\"notificationblock\", XKit.extensions.notificationblock.do);\r\n\t\t\tXKit.extensions.notificationblock.do();\r\n\t\t}\r\n\r\n\t\tif (XKit.interface.where().activity === true) {\r\n\t\t\tconsole.log(\"In activity, repeat block mode\");\r\n\t\t\tsetInterval(function() { XKit.extensions.notificationblock.do() }, 1500);\r\n\t\t}\r\n\r\n\t\tif (this.preferences.on_notifications.value === true) {\r\n\t\t$(document).on(\"mouseenter\",\".notification\", XKit.extensions.notificationblock.enter_notification);\r\n\t\t\t$(document).on(\"click\",\".xkit-notification-notification-block-button\", function(e) {\r\n\t\t\t\tvar m_parent = $(this).parentsUntil(\".notification\").parent();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tXKit.extensions.notificationblock.on_click_notification(m_parent, e);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t},\r\n\r\n\ton_click_notification: function(obj, event) {\r\n\r\n\t\tvar post_id = \"\";\r\n\t\tvar post_url = \"\";\r\n\r\n\t\tevent.stopPropagation();\r\n\t\tevent.stopImmediatePropagation();\r\n\t\tevent.preventDefault();\r\n\r\n\t\tif (typeof $(obj).attr('data-url-original') !== \"undefined\") {\r\n\t\t\tpost_url = $(obj).attr('data-url-original');\r\n\t\t} else {\r\n\t\t\tpost_url = $(obj).find(\".preview_frame\").attr('href');\r\n\t\t}\r\n\r\n\t\tif (post_url === \"\") { return; }\r\n\r\n\t\tpost_url = post_url.split(\"/\");\r\n\t\tfor (var i=0;i<post_url.length;i++) {\r\n\r\n\t\t\tif (post_url[i] === \"post\") {\r\n\t\t\t\tpost_id = post_url[i + 1];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif (XKit.extensions.notificationblock.preferences.ask.value === false) {\r\n\r\n\t\t\tXKit.extensions.notificationblock.block(post_id);\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tXKit.window.show(\"Block notifications from this post?\",\"Notifications originating from this post will be blocked on the dashboard, Old Notifications and Activity page, without any indication that is was blocked.\",\"question\",\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-notification-block-ok\\\">Block Notifications</div><div class=\\\"xkit-button\\\" id=\\\"xkit-close-message\\\">Cancel</div>\");\r\n\r\n\t\t$(\"#xkit-notification-block-ok\").click(function() {\r\n\r\n\t\t\tXKit.window.close();\r\n\t\t\tXKit.extensions.notificationblock.block(post_id);\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tenter_notification: function(event) {\r\n\r\n\t\tvar n_box = event.target;\r\n\t\tif ($(n_box).hasClass(\"notification\") === false || $(n_box).hasClass(\"notification_inner\") === true) {\r\n\t\t\t// Must be in a sub-div.\r\n\t\t\tif ($(n_box).hasClass(\"notification_inner\") === true) {\r\n\t\t\t\tn_box = $(n_box).parent();\r\n\t\t\t} else {\r\n\t\t\t\tn_box = $(n_box).parentsUntil(\".notification\").parent();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (n_box.find(\".xkit-notification-notification-block-button\").length < 1) {\r\n\r\n\t\t\t// We are setting a timeout for the one-click reply button.\r\n\r\n\t\t\tsetTimeout(function() {\r\n\r\n\t\t\tn_box.find(\".xkit-notification-notification-block-button\").remove();\r\n\r\n\t\t\tvar m_html = \"<a onclick=\\\"return false\\\" class=\\\"xkit-notification-notification-block-button\\\">block</a>\";\r\n\r\n\t\t\tif ($(n_box).find(\".block\").length > 0) {\r\n\t\t\t\t$(n_box).find(\".block\").after(m_html);\r\n\r\n\t\t\t\tif ($(n_box).find(\".xkit-reply-button\").length > 0) {\r\n\t\t\t\t\tconsole.log(\"Has One-Click Reply button, pushing! 0\");\r\n\t\t\t\t\t$(n_box).find(\".xkit-notification-notification-block-button\").css(\"right\", (38 + $(n_box).find(\".xkit-reply-button\").width() + 5) + \"px\");\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t$(n_box).find(\".notification_sentence\").append(m_html);\r\n\r\n\t\t\t\tif ($(n_box).find(\".xkit-reply-button\").length > 0) {\r\n\t\t\t\t\tconsole.log(\"Has One-Click Reply button, pushing! 0\");\r\n\t\t\t\t\t$(n_box).find(\".xkit-notification-notification-block-button\").css(\"right\", (35 + $(n_box).find(\".xkit-reply-button\").width() + 5) + \"px\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ($(n_box).hasClass(\"xkit-old-notifications\")) {\r\n\t\t\t\t\t$(n_box).find(\".xkit-notification-notification-block-button\").css(\"top\",\"16px\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(n_box).find(\".xkit-notification-notification-block-button\").css(\"top\",\"12px\");\r\n\t\t\t\t}\r\n\t\t\t\tif ($(n_box).hasClass(\"stretchy_kid_container\") === true) {\r\n\t\t\t\t\tif ($(n_box).find(\".xkit-reply-button\").length > 0) {\r\n\t\t\t\t\t\tconsole.log(\"Has One-Click Reply button, pushing! 1\");\r\n\t\t\t\t\t\t$(n_box).find(\".xkit-notification-notification-block-button\").css(\"right\",(8 + $(n_box).find(\".xkit-reply-button\").width() + 5) + \"px\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(n_box).find(\".xkit-notification-notification-block-button\").css(\"right\",\"8px\");\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ($(n_box).hasClass(\"xkit-old-notifications\")) {\r\n\r\n\t\t\t\t\t\tif ($(n_box).find(\".xkit-reply-button\").length > 0) {\r\n\t\t\t\t\t\t\tconsole.log(\"Has One-Click Reply button, pushing! 2\");\r\n\t\t\t\t\t\t\t$(n_box).find(\".xkit-notification-notification-block-button\").css(\"right\", (43 + $(n_box).find(\".xkit-reply-button\").width() + 5) + \"px\");\r\n\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\t$(n_box).find(\".xkit-notification-notification-block-button\").css(\"right\",\"43px\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif ($(n_box).find(\".xkit-reply-button\").length > 0) {\r\n\t\t\t\t\t\t\tconsole.log(\"Has One-Click Reply button, pushing! 3\");\r\n\t\t\t\t\t\t\t$(n_box).find(\".xkit-notification-notification-block-button\").css(\"right\", (38 + $(n_box).find(\".xkit-reply-button\").width() + 5) + \"px\");\r\n\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\t$(n_box).find(\".xkit-notification-notification-block-button\").css(\"right\",\"38px\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar m_right = 45 + $(n_box).find(\".xkit-notification-notification-block-button\").width();\r\n\t\t\tif ($(n_box).find(\".xkit-reply-button\").length > 0) {\r\n\t\t\t\tconsole.log(\"Has One-Click Reply button, pushing! 15\");\r\n\t\t\t\tm_right += $(n_box).find(\".xkit-reply-button\").width() + 8;\r\n\t\t\t}\r\n\t\t\tif (XKit.extensions.notificationblock.added_css !== true) {\r\n\t\t\t\tXKit.tools.add_css(\".notification .block, .notification .ignore { right: \" + m_right + \"px !important; }\", \"notificationblock_notfix\");\r\n\t\t\t\tXKit.extensions.notificationblock.added_css = true;\r\n\t\t\t}\r\n\r\n\t\t\t}, 400);\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tunblock: function(post_id) {\r\n\r\n\t\tvar m_index = XKit.extensions.notificationblock.blacklisted.indexOf(post_id);\r\n\t\tif (m_index !== -1) {\r\n\t\t\tXKit.extensions.notificationblock.blacklisted.splice(m_index, 1);\r\n\t\t\tXKit.storage.set(\"notificationblock\",\"posts\",XKit.extensions.notificationblock.blacklisted.join(\",\"));\r\n\t\t}\r\n\t\t$(\".notification.xnotificationblockchecked\").removeClass(\"xnotificationblockchecked\");\r\n\t\tXKit.extensions.notificationblock.do();\r\n\r\n\t},\r\n\r\n\tblock: function(post_id) {\r\n\r\n\t\tif (XKit.extensions.notificationblock.blacklisted.indexOf(post_id) === -1) {\r\n\t\t\tXKit.extensions.notificationblock.blacklisted.push(post_id);\r\n\t\t\tXKit.storage.set(\"notificationblock\",\"posts\",XKit.extensions.notificationblock.blacklisted.join(\",\"));\r\n\t\t}\r\n\t\t$(\".notification.xnotificationblockchecked\").removeClass(\"xnotificationblockchecked\");\r\n\t\tXKit.extensions.notificationblock.do();\r\n\r\n\t},\r\n\r\n\ton_click: function(e) {\r\n\r\n\t\tvar obj = e.target || e.srcElement;\r\n\t\tvar parent = $(obj).parentsUntil(\"#posts\");\r\n\r\n\t\tif (XKit.extensions.notificationblock.preferences.ask.value === false) {\r\n\r\n\t\t\tif ($(obj).hasClass(\"xkit-interface-completed\")) {\r\n\t\t\t\tXKit.extensions.notificationblock.unblock($(obj).attr('data-post-id'));\r\n\t\t\t\tXKit.interface.completed_control_button($(obj), false);\r\n\t\t\t} else {\r\n\t\t\t\tXKit.extensions.notificationblock.block($(obj).attr('data-post-id'));\r\n\t\t\t\tXKit.interface.completed_control_button($(obj), true);\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\r\n\t\t}\r\n\r\n\t\tif ($(obj).hasClass(\"xkit-interface-completed\")) {\r\n\t\t\t// Already blocked, user trying to unblock it.\r\n\r\n\t\t\tXKit.window.show(\"Unblock notifications from this post?\",\"Notifications from this post will be shown.<br/>You'll need to refresh the page for changes to take effect.\",\"question\",\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-notification-block-ok\\\">Unblock Notifications</div><div class=\\\"xkit-button\\\" id=\\\"xkit-close-message\\\">Cancel</div>\");\r\n\r\n\t\t\t$(\"#xkit-notification-block-ok\").click(function() {\r\n\r\n\t\t\t\tXKit.window.close();\r\n\t\t\t\tXKit.extensions.notificationblock.unblock($(obj).attr('data-post-id'));\r\n\t\t\t\tXKit.interface.completed_control_button($(obj), false);\r\n\r\n\t\t\t});\r\n\r\n\t\t} else {\r\n\r\n\t\t\tXKit.window.show(\"Block notifications from this post?\",\"Notifications originating from this post will be blocked on the dashboard, Old Notifications and Activity page, without any indication that is was blocked.\",\"question\",\"<div class=\\\"xkit-button default\\\" id=\\\"xkit-notification-block-ok\\\">Block Notifications</div><div class=\\\"xkit-button\\\" id=\\\"xkit-close-message\\\">Cancel</div>\");\r\n\r\n\t\t\t$(\"#xkit-notification-block-ok\").click(function() {\r\n\r\n\t\t\t\tXKit.window.close();\r\n\t\t\t\tXKit.extensions.notificationblock.block($(obj).attr('data-post-id'));\r\n\t\t\t\tXKit.interface.completed_control_button($(obj), true);\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tdo: function() {\r\n\r\n\t\t$(\".notification\").not(\".xnotificationblockchecked\").each(function() {\r\n\r\n\t\t\t$(this).addClass(\"xnotificationblockchecked\");\r\n\r\n\t\t\tvar target_url = $(this).find(\".notification_target\").attr('href');\r\n\r\n\t\t\tif ($(this).attr('data-url-original') !== \"undefined\" && $(this).attr('data-url-original') !== \"\") {\r\n\t\t\t\ttarget_url = target_url + \" \" +\t$(this).attr('data-url-original');\r\n\t\t\t}\r\n\r\n\t\t\tif ($(this).find(\".preview_frame\").attr('href') !== \"undefined\") {\r\n\t\t\t\ttarget_url = target_url + \" \" +\t$(this).find(\".preview_frame\").attr('href');\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i=0;i<XKit.extensions.notificationblock.blacklisted.length;i++) {\r\n\t\t\t\tif (XKit.extensions.notificationblock.blacklisted[i] == \"\") { continue; }\r\n\t\t\t\tif (target_url.indexOf(\"/post/\" + XKit.extensions.notificationblock.blacklisted[i]) !== -1) {\r\n\t\t\t\t\tconsole.log(\"Blocking notification because of post \" + XKit.extensions.notificationblock.blacklisted[i]);\r\n\t\t\t\t\t$(this).remove();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\t$(\".ui_note\").not(\".xnotificationblockchecked\").each(function() {\r\n\r\n\t\t\t$(this).addClass(\"xnotificationblockchecked\");\r\n\r\n\t\t\tvar target_url = $(this).find(\".part_glass\").attr('href') + \"  \" + $(this).find(\".ui_post_badge\").attr('href');\r\n\t\t\t//$(this).css(\"background\",\"green\");\r\n\r\n\t\t\tfor (var i=0;i<XKit.extensions.notificationblock.blacklisted.length;i++) {\r\n\t\t\t\tif (XKit.extensions.notificationblock.blacklisted[i] == \"\") { continue; }\r\n\t\t\t\tif (target_url.indexOf(\"/post/\" + XKit.extensions.notificationblock.blacklisted[i]) !== -1) {\r\n\t\t\t\t\tconsole.log(\"Blocking notification because of post \" + XKit.extensions.notificationblock.blacklisted[i]);\r\n\t\t\t\t\t//$(this).addClass(\"notificationblock-notification-blocked\");\r\n\t\t\t\t\t$(this).remove();\r\n\t\t\t\t\t//$(this).css(\"background\",\"red\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\t$(\".xkit-old-notifications, .notification\").first().addClass(\"first_notification\");\r\n\t\t$(\".xkit-old-notifications, .notification\").first().each(function() {\r\n\t\t\tif ($(this).is(\":last\")) {\r\n\t\t\t\t$(this).removeClass(\"first_notification\").addClass(\"single_notification\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tif ($(\".post\").length > 0) {\r\n\r\n\t\t\tvar posts = XKit.interface.get_posts(\"xnotificationblockchecked\");\r\n\r\n\t\t\t$(posts).each(function() {\r\n\r\n\t\t\t\t$(this).addClass(\"xnotificationblockchecked\");\r\n\r\n\t\t  \t\tvar m_post = XKit.interface.post($(this));\r\n\t\t  \t\tif (m_post.is_mine !== true) { return; }\r\n\r\n\t\t\t\tvar this_id = m_post.id;\r\n\r\n\t\t\t\tXKit.interface.add_control_button(this, \"xnotificationblockbutton\", \"data-root-id=\\\"\" + this_id + \"\\\"\");\r\n\r\n\t\t\t\tif (XKit.extensions.notificationblock.blacklisted.indexOf(this_id) !== -1) {\r\n\r\n\t\t\t\t\tXKit.interface.completed_control_button($(this).find(\".xnotificationblockbutton\"), true);\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tthis.running = false;\r\n\t\tXKit.post_listener.remove(\"notificationblock\");\r\n\t\t$(\".xnotificationblockbutton\").remove();\r\n\t\t$(\".xnotificationblockchecked\").removeClass(\"xnotificationblockchecked\");\r\n\t\t$(\".xkit-notification-notification-block-button\").remove();\r\n\t\tXKit.tools.remove_css(\"notificationblock_notfix\");\r\n\t}\r\n\r\n});","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGNzdGMTE3NDA3MjA2ODExODA4MzkyMjM2MzU5MTQ4NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1NTY1ODZDODM4QzQxMUUzQTFDQUFDOThEMTlDRUY3OSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NTY1ODZDNzM4QzQxMUUzQTFDQUFDOThEMTlDRUY3OSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZCN0YxMTc0MDcyMDY4MTE4MDgzOTIyMzYzNTkxNDg0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkY3N0YxMTc0MDcyMDY4MTE4MDgzOTIyMzYzNTkxNDg0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+lGIJ0gAAAmpJREFUeNpi/Kpkw0BLwMRAYzBqAUHAwsDIRGsLGIlUyr5s2v8v336llVDZB0yaOgwM//9dv8psqgXk/iLRx4R9wLGim+Hv32/GvlA+IyNbb8P/bz9+13YQaQEzASWc7GBzYcoYmVl8bBn+//9d103VSIYrgzCA/iZOIwsDE3EWwJUhMVjTYv99+vJ3xXp8FjASZwFcGTKDNS+C4fvP76s24vUBMzNRPoArQ2YAA4qLA78JTCAvYyAmcxOWzDgGbl54gDAqKkIZSkrIYfXdIgLIYJSSYt88C6tR2COZvbeEgYeTUULkd9MkaGJdPwHKWNcP9Xte0nfjYJBFtpaslUlM3FxYjQIGERbRf49eMGkpsvjZ/Vm3C6vHf89Y82feSqBezoNLIOn498y1WI0CWsCCKfp39wmgBaA8VZ6CKfvdPZ3h0ycGPj7O3XMg+fTfzYd/Vm7FahQwmJgx0Z8dhxh+/gJJaylicf+XryxR/px75sJLgX+3H4HUYzOKiYGFGQv69u3P1qNYA+ffpdtABazJASjh4GbJvmEyVqOwpyIg+rNmB8Pff1i8rKcKlP3unfnv+n2EKBvLv2v3caQiHKn4/6u3v9fvZw1xxiLHysLw7z+TJiz0vnz7vXDLn/W7sBqFL6P9WbKJ2VqfSVIERXDfaWByZG3IhIbYjQe/Ji//f+cBLnOYGFmYcaLfv383zfz/7hNKApu3DijFYmMAMv3h81/lfQwPHuMxhAUUFbjB/2cvfhZ0saaHMptoMrCzgUQ+f4Vo+T15xd894ISA1wTG7wH5NK6TWZiHugXMNPcBy1D3ASttfQAQYADCE7PREUA/jAAAAABJRU5ErkJggg==","css":".xkit-notification-notification-block-button {\r\n\r\n\tposition: absolute;\r\n\tright: 35px; top: 7px;\r\n\tbackground: rgba(255,255,255,.38) !important;\r\n\tdisplay: none;\r\n\tcolor: #3d546b !important;\r\n\tfont-weight: bold;\r\n\tfont-size: 9px !important;\r\n\tpadding: 0px 2px; border-radius: 2px;\r\n\ttext-decoration: none;\r\n\ttext-transform: uppercase !important;\r\n\tline-height: 12px !important; height: 12px !important;\r\n\r\n\r\n}\r\n\r\n.notification:hover .xkit-notification-notification-block-button {\r\n\r\n\tdisplay: block;\r\n\r\n}\r\n\r\n.xkit-notification-notification-block-button:hover {\r\n\tbackground-color: rgba(255,255,255,.75) !important;\r\n}","title":"NotificationBlock","description":"Blocks notifications from a post","developer":"STUDIOXENIX","version":"1.2 REV A","frame":"false","beta":"false","details":"One post got way too popular and now just annoying you? Click on the notification block icon on that post to hide the notifications from that post. If you have Go-To-Dash installed, you can click on a notification, then click View button on top-right corner to quickly go back to the post on your dashboard.","file":"found","server":"up","errors":false,"slow":"false"}