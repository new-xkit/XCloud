{"id":"convert_links","script":"//* TITLE Convert Links **//\r\n//* VERSION 0.1 REV B **//\r\n//* DESCRIPTION Clickable links on asks **//\r\n//* DETAILS This extension allows you to turn the 'encrypted' links that people can send you using asks to clickable ones. **//\r\n//* DEVELOPER STUDIOXENIX **//\r\n//* FRAME false **//\r\n//* BETA false **//\r\n\r\nXKit.extensions.convert_links = new Object({\r\n\r\n\trunning: false,\r\n\r\n\tbutton_icon: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0YwNkY2N0QyNjEwMTFFM0E4QURBMkY5NDVFMjREMzgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0YwNkY2N0UyNjEwMTFFM0E4QURBMkY5NDVFMjREMzgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozRjA2RjY3QjI2MTAxMUUzQThBREEyRjk0NUUyNEQzOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozRjA2RjY3QzI2MTAxMUUzQThBREEyRjk0NUUyNEQzOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpwA9qcAAAEiSURBVHjaYmDADRSAuBmItwDxYyA+DcQVQMzBQAKIBuL/aPgdEF9B4j8CYnVCBp2GKt4PxHpA7IBFzTwkQ3NwGXQcyRXIIA7qVXUsLgbhRHSDYpEkv6PJPYeKg4AjEN/BYiAKQJZoJBAUMlgMuwCTVMZnCxpYDlXzF4uBLCAFLUQapogjzGA4kwlIaKBpMsBh2BoCrtYEGSaJJtiLxL4JxHugbCMChoHNWYLFyU5YIoYQ7gK57BwWW0CuMQZiRigmBoASPAMXHtt+ATE/EJtCs5AvlF0IxEdxRdxbAl74gcM1tlD5WciCqgQMe4PDMJzJKRuPYRfxGMSHKxAT8Rh4H4ulQsTEzDkC3l6JTRO+aAclmwxoDpGEugxUgvTj0gAQYAB9HpoNDcJdTAAAAABJRU5ErkJggg==\",\r\n\r\n\trun: function() {\r\n\t\tthis.running = true;\r\n\r\n\t\tif (XKit.interface.where().inbox !== true) { return; }\r\n\r\n\t\t$(document).on('click','.xkit-convert-links-button', XKit.extensions.convert_links.on_click);\r\n\t\tXKit.interface.create_control_button(\"xkit-convert-links-button\", this.button_icon, \"Convert Links\", \"\");\r\n\r\n\t\tXKit.post_listener.add(\"convert_links\", XKit.extensions.convert_links.do);\r\n\t\tXKit.extensions.convert_links.do();\r\n\r\n\t},\r\n\r\n\ton_click: function(e) {\r\n\r\n\t\tvar obj = e.target || e.srcElement;\r\n\t\tvar parent = $(obj).parentsUntil(\"#posts\");\r\n\r\n\t\tvar m_post = XKit.interface.find_post($(obj).attr('data-ask-id'));\r\n\r\n\t\tvar m_content = $(\".post_body\", \"<div>\" + m_post.body + \"</div>\").html();\r\n\t\tvar m_html = m_content.substring(m_content.indexOf(\"<div \"));\r\n\r\n\t\tm_content = m_content.substring(0, m_content.indexOf(\"<div \"));\r\n\r\n\t\tm_content = XKit.tools.replace_all(m_content, '\\\\\\)','');\r\n\t\tm_content = XKit.tools.replace_all(m_content, '\\\\\\(','');\r\n\t\tm_content = XKit.tools.replace_all(m_content, '[.]','.');\r\n\t\tm_content = XKit.tools.replace_all(m_content, '\\\\\\[','');\r\n\t\tm_content = XKit.tools.replace_all(m_content, '\\\\\\]','');\r\n\t\tm_content = XKit.tools.replace_all(m_content, '[/]','/');\r\n\t\tm_content = XKit.tools.replace_all(m_content, ' / ','/');\r\n\t\t//m_content = XKit.tools.replace_all(m_content, '(.)','.');\r\n\t\tm_content = XKit.tools.replace_all(m_content, '(dot)','.');\r\n\t\tm_content = XKit.tools.replace_all(m_content, ' dot ','.');\r\n\t\tm_content = XKit.tools.replace_all(m_content, ' com','.com');\r\n\t\tm_content = XKit.tools.replace_all(m_content, ' org','.org');\r\n\t\tm_content = XKit.tools.replace_all(m_content, ' net','.net');\r\n\r\n\t\tm_content = XKit.tools.replace_all(m_content, 'www ','www.');\r\n\r\n\t\tm_content = m_content.replace(/\\b((?:[a-z][\\w-]+:(?:\\/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|[a-z0-9.-]+[.][a-z]{2,4}\\/)(?:(?:[^\\s()<>.]+[.]?)+|((?:[^\\s()<>]+|(?:([^\\s()<>]+)))))+(?:((?:[^\\s()<>]+|(?:([^\\s()<>]+))))|[^\\s`!()[]{};:'\".,<>?]))/gi,\"<a target=_blank href=http://$1>$1</a>\");\r\n\r\n\t\t$(parent).find(\".post_body\").html(m_content + m_html);\r\n\r\n\t},\r\n\r\n\tdo: function() {\r\n\r\n\t\tvar posts = XKit.interface.get_posts(\"convert-links-done\");\r\n\r\n\t\t$(posts).each(function() {\r\n\r\n\t\t\t$(this).addClass(\"convert-links-done\");\r\n\r\n\t  \t\tvar m_post = XKit.interface.post($(this));\r\n\t  \t\tif (m_post.type !== \"note\") { return; }\r\n\r\n\t\t\tvar this_id = m_post.id;\r\n\t\t\tXKit.interface.add_control_button(this, \"xkit-convert-links-button\", \"data-ask-id=\\\"\" + this_id + \"\\\"\");\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tthis.running = false;\r\n\t}\r\n\r\n});","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjU2ODI1RTIyNjE2MTFFM0E4QURBMkY5NDVFMjREMzgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjU2ODI1RTMyNjE2MTFFM0E4QURBMkY5NDVFMjREMzgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozRjA2RjY3RjI2MTAxMUUzQThBREEyRjk0NUUyNEQzOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozRjA2RjY4MDI2MTAxMUUzQThBREEyRjk0NUUyNEQzOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvM31wIAAAcQSURBVHjadFZrbBVFFJ7Z3QItpaX3llZelkcARatERA0kaGIUjZFojEYUjSaAItFoiD80GjE+MISE+KPGJ6DBRCEqMYjxBSJEoNCW8iyGtkjf5ba99/a+yu7MeL4z22sjuLe73Z05c8533keuWPex57iOIxwpyyPjJpVHhSOEMJJuIYUxht6N0PSp8aW1xpNvZQKjpaIVjWXa10rRAXo1ICMOwvGkA+64XCkdCUnCdaTBB+1JXpQkTzpEr4kAf5IIgEkK7AtsCdDwDwjtkhF8mA+xKMsRNC6O4hQdNywFl+tKPkz8CYMwBIeItSNcejEALKG31FaYpi1XOp4rCbJUkk8yXGDEzWLoaWVJyAIkw2JcGQInMVpiRzA4WnSFNAwEgKEHVCjAF5vfsXAdtgsL5G8RvrAscpuBAUJXQRUDXiQbvJmcZRj6MQxj8owsWn5jMvyX9mlJXGOBWNcwL3iEoZJYeAhhAOGehDpWe+wyb0gQFgYrTHcum+3quJBMxFPJpFcwKjqhcuKUKsYkECzEn4JIMBopFAvhZe0xBnDxXNaPlbFCLFVPd+fpxvpoJLJ44c1VUyZXTZ2cHEwdPFK/+9c9pMqc6pvHFBbBneCitbD2Io3CQJfPv7vVcykGECDRknETJ5TaMBIc+w0H/5g7e8YzTy0Tw9fQJT+dG4qUFNN7X//A2xtrCorLJkyaogKcoDTgZFAENtBg4Rm2n7WEdZj9T7+GQwdeevbJaVdP7Y7FDx1v9grcY42Nvd2d02dec+TPfaueevSORbdteve1zdt2NLW1RyqmUoLhKPtAs7e1Y0iDLcgBl8wvy8vGTaooFeyuns72h+5eNHN6VTqT3f7zYaAxxsn2zb9hblN7/NF7F4oRV82n21JmLCWvIgHQgnQhBchwMBc9RQDrGTge9QBZPn6MQ9zp8OhRo5D0iAm97KGl86rnDiRTO/cciQ+m8wLWrFh+vOEQqw7kzEWyFYRc885mDhbHK5DRUvLBePrKpTOrH7vXHj7WdL7uTCtEAwmKjNKi6USdHsrWbHwzL+P8hfYvdx8GFbFVGgWKVskHRE2Z6bjkGVehSkGpbDqeP1l35jyU4kKgWdFcNr3sgbsXLrgJcMOgFtOunnKx97vyiqs4Ok3oUuJM0lAZla2QsITSwQ1zZuQFDCYTvGNTg6hErKOVuIe1Y8S1oHo255YQKowUwCXH2AIM1VkKOac8UpI/lkvE4DWljxz4/fjRWtJi1RMPiytdldHxhsu6kiEcejiBIreTzYxPEmAjhHBp6b8Cli5ZnIjFSOpbr7yw5ulH9v/24/SqqVcUECkrMcMxzoUAMe8QWyQIN47AV2gVygymMvljc+fMCjJ9yUT/xMqK66+d/dWn74v/uRKpHELHllqJrCOXkYkQuEGgfaWSqbQfIJqTWTXy5KsvrU70XFi28sVNW3eJ/7/6kjmq2sYm63C5casXLYHjWC3CP+T748YWxhKpBdfNzJ8kZ955+8IH77vrk8821zacuGX+vB/21x892dwXHywo8EqKiyzZjp8PCm6pNp8NFyaPMg5tgEq2klrLvoFUMpUdWzgmkx0qKhw9EqDrultqNvh+sHbj5zoATp+sGYiCXG/NhtfrT7cKjsaQuzBkj97YgAc7cSw53MsCI8l0uVyw7oMdG9Yuv9wOmVyuN5agaqYF0qnl1OHGPd/S+vd7a4UyocZCdMcGzv3dRQIdIgropkgK4BRtQ8ro9p7+rTv3XS6g92Jfy+k6okv0drWcDLmvq9lum5mV0NLefa61A5MGOVlxdBIi4hrgg5xuA1f9uL/+w69/+o+AWTOqdm7Z1Hzi4J23Xtu4F9xXvvEBSpxGlSCoZ5vb2rtiRtiOKeT9z61HQ3bDrs6N2A4gAtMCd9INLz8+fXLl5drsrzuz/qNvZk2bWFpcRNx83z/1V9tgJmu4pEjMRtQPCDb1MuXySEMe4A4HYRq1ityvxdr3vqCVexbfOHlCtKy0uLtvoD8++O0vtRSSozxZMhbc09lcU0tHJpML3WDCkuqRt2QAfjxgWC0UU0iMIvRhNDc4s2vvUQoznLNlFaGio2VR2o0n0mdbOy75PpdEw92GUhdJ4RnfaAxPAQmiWQTRi2louGurfKvj8LOq2yERFVBWRMZ39Qyc7+xFt1QKHHgD8iV86SnCa8ARLAPNzVPxgMSl2OalYVTCTqlYQdUSMlJS1NYd677YjzrJIcQF09ZeQxlGoDxKGSMDDGWOgos1+Bqqh7SLEZWp2StWA4OyJeycEk9ng/4kBmBjJ12QEGoac7XNYzKR4g6juPePGFg0hjtFrLQIU5Njwto4nNyEuuQHZERtR3AbcZijNaNGjAjpcezSUEQJjMh1bDRRDCnmE/YsPTxuSBMO9ZrKu7AeEcNrYc8Lu5Ptav8IMAA60MnT5iy5WQAAAABJRU5ErkJggg==","title":"Convert Links","description":"Clickable links on asks","developer":"STUDIOXENIX","version":"0.1 REV B","frame":"false","beta":"false","details":"This extension allows you to turn the 'encrypted' links that people can send you using asks to clickable ones.","file":"found","server":"up","errors":false,"slow":"false"}