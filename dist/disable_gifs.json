{"id":"disable_gifs","script":"//* TITLE Disable Gifs **//\r\n//* VERSION 0.3.0 **//\r\n//* DESCRIPTION Stops GIFs on dashboard **//\r\n//* DETAILS This is a very early preview version of an extension that allows you to stop the GIFs from playing on your dashboard. If you still would like to view them, you can click on the Play button on the post. Please note that for now, this extension can't stop GIFs added to text posts. **//\r\n//* DEVELOPER STUDIOXENIX **//\r\n//* FRAME false **//\r\n//* BETA false **//\r\n//* SLOW true **//\r\n\r\nXKit.extensions.disable_gifs = new Object({\r\n\r\n\trunning: false,\r\n\tbutton_icon: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RkRFQzJCQjcyQjRCMTFFMzk3NjJBMTk2OEYyM0IxREYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RkRFQzJCQjgyQjRCMTFFMzk3NjJBMTk2OEYyM0IxREYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpENTA1MTcyNjJBRUMxMUUzOTc2MkExOTY4RjIzQjFERiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGREVDMkJCNjJCNEIxMUUzOTc2MkExOTY4RjIzQjFERiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgYTp9MAAACOSURBVHjavJQNCsAgCEb3Dc/UMbb7n8YVFIlMa2ETjP6UZ2pg5iNKqAwAPnvMENB75xEopNaYgbIOtpJ5bzSkp9lQcpKGCfk1THh1WGnZTIA0lvNSi1lTC/c17GrATeW6zJuKO0nRdrsFZ2w5I6s1HLnd+tHqEFxGGXWyQbamW41W+3B7byLycwwlewQYAABheN9oKlBYAAAAAElFTkSuQmCC\",\r\n\ton_icon: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RkRFQzJCQkIyQjRCMTFFMzk3NjJBMTk2OEYyM0IxREYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RkRFQzJCQkMyQjRCMTFFMzk3NjJBMTk2OEYyM0IxREYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGREVDMkJCOTJCNEIxMUUzOTc2MkExOTY4RjIzQjFERiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGREVDMkJCQTJCNEIxMUUzOTc2MkExOTY4RjIzQjFERiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmuI/CcAAABySURBVHjaYvz//z8DtQALiMhZqkOyiVOirzCiizExUBGwELINHeDzBe1cRm5Y4TWM3AihnzdJjRCiXQbSBMRm+NQwkRhWJ/EZSE6YncQbZsSEDRLwp5bL/IEWb6I40RLjehZy8yHN8yYjNQtHqroMIMAAFUUpurj2PsEAAAAASUVORK5CYII=\",\r\n\tslow: true,\r\n\r\n\tpreferences: {\r\n\t\t\"hide_completely\": {\r\n\t\t\ttext: \"Completely hide posts with GIFs.\",\r\n\t\t\tdefault: false,\r\n\t\t\tvalue: false\r\n\t\t}\r\n\t},\r\n\r\n\trun: function() {\r\n\t\tthis.running = true;\r\n\t\tXKit.tools.init_css(\"disable_gifs\");\r\n\t\tif ($(\"#posts\").length > 0) {\r\n\t\t\t$(document).on('click','.disable_gifs_button', XKit.extensions.disable_gifs.on_click);\r\n\t\t\t//$(document).on('click','.xkit-disable-gifs-canvas-thumbnail', XKit.extensions.disable_gifs.toggle_enlarge);\r\n\r\n\t\t\tXKit.interface.create_control_button(\"disable_gifs_button\", this.button_icon, \"Play Gif\", \"\", this.on_icon);\r\n\t\t\tXKit.post_listener.add(\"disable_gifs\", XKit.extensions.disable_gifs.do);\r\n\t\t\tXKit.extensions.disable_gifs.do();\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tredraw_canvases: function(obj) {\r\n\r\n\t\t$(obj).find(\".xkit-disable-gifs-canvas-container\").each(function() {\r\n\r\n\t\t\tvar image = new Image();\r\n        \t\timage.src = $(this).attr('data-url');\r\n\r\n        \t\tvar v_object = $(this).find(\".xkit-disable-gifs-canvas-thumbnail\");\r\n\r\n        \t\timage.onload = (function() {\r\n        \t\t\t$(v_object)[0].getContext(\"2d\").drawImage(image, 0, 0);\r\n\r\n        \t\t\tif ($(v_object).hasClass(\"xkit-disable-gifs-for-photoset\")) {return; }\r\n\r\n\t\t\t\t$(v_object).click(function() {\r\n\r\n\t\t\t\t\t$(this).parentsUntil(\".post_media\").parent().find(\".image_thumbnail\").trigger('click');\r\n\r\n\t\t\t\t\t$(this).toggleClass(\"enlarged-canvas\");\r\n\t\t\t\t\tif ($(this).hasClass(\"enlarged-canvas\")) {\r\n\t\t\t\t\t\t$(this).css(\"width\", $(this).attr('data-width'));\r\n\t\t\t\t\t\t$(this).css(\"height\", $(this).attr('data-height'));\r\n\t\t\t\t\t\t$(this).parent().css(\"width\", $(this).attr('data-width'));\r\n\t\t\t\t\t\t$(this).parent().css(\"height\", $(this).attr('data-height'));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(this).css(\"width\", $(this).attr('data-width-thumb'));\r\n\t\t\t\t\t\t$(this).css(\"height\", $(this).attr('data-height-thumb'));\r\n\t\t\t\t\t\t$(this).parent().css(\"width\", $(this).attr('data-width-thumb'));\r\n\t\t\t\t\t\t$(this).parent().css(\"height\", $(this).attr('data-height-thumb'));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n        \t\t});\r\n\r\n\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\treturn_as_jpg_photoset: function(url, width, height, post_id, obj, post_obj, row_container, box_container, img_id) {\r\n\r\n\t\tconsole.log(\"return_as_jpg_photoset for \" + url + \" | height = \" + height + \" | width = \" + width);\r\n\r\n\t\tif (parseInt(height) === 0) {\r\n\t\t\theight = $(row_container).height();\r\n\t\t}\r\n\r\n\t\tvar m_canvas_html = \"<div data-url=\\\"\" + url + \"\\\" id=\\\"xkit-disable-gifs-canvas-container-for-\" + post_id + \"___\" + img_id + \"\\\" class=\\\"xkit-disable-gifs-canvas-container\\\"><canvas class=\\\"xkit-disable-gifs-canvas-thumbnail xkit-disable-gifs-for-photoset\\\" style=\\\"display: block;\\\" id=\\\"xkit-disable-gifs-canvas-for-\" + post_id + \"___\" + img_id + \"\\\"></canvas><img class=\\\"xkit-disable-gifs-indicator\\\" src=\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDUwNTE3MjQyQUVDMTFFMzk3NjJBMTk2OEYyM0IxREYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDUwNTE3MjUyQUVDMTFFMzk3NjJBMTk2OEYyM0IxREYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpENTA1MTcyMjJBRUMxMUUzOTc2MkExOTY4RjIzQjFERiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpENTA1MTcyMzJBRUMxMUUzOTc2MkExOTY4RjIzQjFERiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrQbdTIAAAH5SURBVHjazJi/SsRAEMYnuRAs0hgET8ROsL9CsBJ7C1/BysoHsLrSx7inULAQaxHEzsrGoHhNComIkfOc4TY6xs2f3WySHfjuuCS3+Wby20myDvzGFmobtY5agm7jE/WEuhMCR+zYRe2BHXGDOhvgxwbqgJnsO+iKTcnYPmoF7IrQxY8h2BerZMy30NjAK9jhz+fzk6ajO45zil+pzn/dgu2Bocy1xymsGMv6VjFrqvYoP44pYzweULFKlTCZWCSTtmmMThJ3zZzbNiu643h1uVFg7ocxcSzoMOdpZF3FXMYYxVQYVGZOxxid5KXtXuf20aPqjOM1GLDVXucZyppzRyc9FIYnAn7+mxIIUSPTjJVxB+KkWSS545K6zdqUMeklllym2u3CBUujsmLIx1HGCmNoLIF5bNKYzi0paLF1VFYsxSqdC5BjSVOkfUM25YEdzydEqvvoU2QsES0gEoMHuX00A9/YlM+2RTw5sT00WrFcpXzG3J8exbYf98GYDnftzkoJc1DCXVjRhI0/XXDmoIS7qCw5yZ2gecUkVfrHnS2M9dv5FbjTvfmnpo3ludNKrog7MvYBegt1qeL7pkrMiLFHCxGLyNgVLJYabYkv1CUt3L2jXlGbtPzTs6kZ6gJ1z5c3l1E7sFhqXOu4lVBzfkZdZ++i3wIMADlboIdWns5XAAAAAElFTkSuQmCC\\\" /></div>\";\r\n\r\n\t\t$(box_container).append(m_canvas_html);\r\n\r\n\t\t$(\"#xkit-disable-gifs-canvas-for-\" + post_id + \"___\" + img_id).attr(\"width\", width);\r\n\t\t$(\"#xkit-disable-gifs-canvas-for-\" + post_id + \"___\" + img_id).attr(\"height\", height);\r\n\r\n\t\tvar image = new Image();\r\n        \timage.src = url;\r\n\r\n        \timage.onload = (function(){\r\n\r\n        \t\tconsole.log(\"return_as_jpg for \" + url + \" ---> Complete loading image.\");\r\n\r\n        \t\t$(\"#xkit-disable-gifs-canvas-for-\" + post_id + \"___\" + img_id)[0].getContext(\"2d\").drawImage(image, 0, 0, width, height);\r\n        \t\t//var image_src = $(\"#xkit-disable-gifs-canvas-for-\" + post_id)[0].toDataURL(\"image/jpg\");\r\n\r\n        \t});\r\n\r\n\t},\r\n\r\n\treturn_as_jpg: function(url, width, height, post_id, obj, post_obj, photoset_mode) {\r\n\r\n\t\tconsole.log(\"return_as_jpg for \" + url);\r\n\r\n\t\tvar m_canvas_html = \"<div data-url=\\\"\" + url + \"\\\" id=\\\"xkit-disable-gifs-canvas-container-for-\" + post_id + \"\\\" class=\\\"xkit-disable-gifs-canvas-container\\\"><canvas class=\\\"xkit-disable-gifs-canvas-thumbnail\\\" style=\\\"display: block;\\\" id=\\\"xkit-disable-gifs-canvas-for-\" + post_id + \"\\\"></canvas><img class=\\\"xkit-disable-gifs-indicator\\\" src=\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDUwNTE3MjQyQUVDMTFFMzk3NjJBMTk2OEYyM0IxREYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDUwNTE3MjUyQUVDMTFFMzk3NjJBMTk2OEYyM0IxREYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpENTA1MTcyMjJBRUMxMUUzOTc2MkExOTY4RjIzQjFERiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpENTA1MTcyMzJBRUMxMUUzOTc2MkExOTY4RjIzQjFERiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrQbdTIAAAH5SURBVHjazJi/SsRAEMYnuRAs0hgET8ROsL9CsBJ7C1/BysoHsLrSx7inULAQaxHEzsrGoHhNComIkfOc4TY6xs2f3WySHfjuuCS3+Wby20myDvzGFmobtY5agm7jE/WEuhMCR+zYRe2BHXGDOhvgxwbqgJnsO+iKTcnYPmoF7IrQxY8h2BerZMy30NjAK9jhz+fzk6ajO45zil+pzn/dgu2Bocy1xymsGMv6VjFrqvYoP44pYzweULFKlTCZWCSTtmmMThJ3zZzbNiu643h1uVFg7ocxcSzoMOdpZF3FXMYYxVQYVGZOxxid5KXtXuf20aPqjOM1GLDVXucZyppzRyc9FIYnAn7+mxIIUSPTjJVxB+KkWSS545K6zdqUMeklllym2u3CBUujsmLIx1HGCmNoLIF5bNKYzi0paLF1VFYsxSqdC5BjSVOkfUM25YEdzydEqvvoU2QsES0gEoMHuX00A9/YlM+2RTw5sT00WrFcpXzG3J8exbYf98GYDnftzkoJc1DCXVjRhI0/XXDmoIS7qCw5yZ2gecUkVfrHnS2M9dv5FbjTvfmnpo3ludNKrog7MvYBegt1qeL7pkrMiLFHCxGLyNgVLJYabYkv1CUt3L2jXlGbtPzTs6kZ6gJ1z5c3l1E7sFhqXOu4lVBzfkZdZ++i3wIMADlboIdWns5XAAAAAElFTkSuQmCC\\\" /></div>\";\r\n\r\n\t\tif ($(post_obj).find(\".photo_info\").length > 0) {\r\n\t\t\t$(post_obj).find(\".photo_info\").before(m_canvas_html);\r\n\t\t}else {\r\n\t\t\t$(post_obj).find(\".post_media\").append(m_canvas_html);\r\n\t\t}\r\n\t\t$(\"#xkit-disable-gifs-canvas-for-\" + post_id).attr(\"width\", width);\r\n\t\t$(\"#xkit-disable-gifs-canvas-for-\" + post_id).attr(\"height\", height);\r\n\r\n\t\t$(\"#xkit-disable-gifs-canvas-container-for-\" + post_id).css(\"width\", width + \"px\");\r\n\t\t$(\"#xkit-disable-gifs-canvas-container-for-\" + post_id).css(\"height\", height + \"px\");\r\n\r\n\t\tvar image = new Image();\r\n        \timage.src = url;\r\n\r\n        \timage.onload = (function(){\r\n\r\n        \t\tconsole.log(\"return_as_jpg for \" + url + \" ---> Complete loading image.\");\r\n\r\n        \t\t$(\"#xkit-disable-gifs-canvas-for-\" + post_id)[0].getContext(\"2d\").drawImage(image, 0, 0, width, height);\r\n        \t\t//var image_src = $(\"#xkit-disable-gifs-canvas-for-\" + post_id)[0].toDataURL(\"image/jpg\");\r\n\r\n\t\t\tvar m_width = $(obj).attr('data-width');\r\n\t\t\tvar m_height = $(obj).attr('data-height');\r\n\r\n\t\t\t$(\"#xkit-disable-gifs-canvas-for-\" + post_id).attr('data-height', m_height);\r\n\t\t\t$(\"#xkit-disable-gifs-canvas-for-\" + post_id).attr('data-width', m_width);\r\n\r\n\t\t\t$(\"#xkit-disable-gifs-canvas-for-\" + post_id).attr('data-height-thumb', height);\r\n\t\t\t$(\"#xkit-disable-gifs-canvas-for-\" + post_id).attr('data-width-thumb', width);\r\n\r\n\t\t\tif (!photoset_mode) {\r\n\r\n\t\t\t\t$(\"#xkit-disable-gifs-canvas-for-\" + post_id).click(function() {\r\n\r\n\t\t\t\t\t$(this).parentsUntil(\".post_media\").parent().find(\".image_thumbnail\").trigger('click');\r\n\r\n\t\t\t\t\t$(this).toggleClass(\"enlarged-canvas\");\r\n\t\t\t\t\tif ($(this).hasClass(\"enlarged-canvas\")) {\r\n\t\t\t\t\t\t$(this).css(\"width\", $(this).attr('data-width'));\r\n\t\t\t\t\t\t$(this).css(\"height\", $(this).attr('data-height'));\r\n\t\t\t\t\t\t$(this).parent().css(\"width\", $(this).attr('data-width'));\r\n\t\t\t\t\t\t$(this).parent().css(\"height\", $(this).attr('data-height'));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$(this).css(\"width\", $(this).attr('data-width-thumb'));\r\n\t\t\t\t\t\t$(this).css(\"height\", $(this).attr('data-height-thumb'));\r\n\t\t\t\t\t\t$(this).parent().css(\"width\", $(this).attr('data-width-thumb'));\r\n\t\t\t\t\t\t$(this).parent().css(\"height\", $(this).attr('data-height-thumb'));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\r\n\r\n\r\n\t\t\t}\r\n\r\n        \t});\r\n\r\n\t},\r\n\r\n\tcheck_if_animated: function(obj) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tvar m_post = XKit.interface.post($(obj));\r\n\t\t\tif (m_post.animated === true) { return true; }\r\n\r\n\t\t\tif ($(obj).find(\".image_thumbnail\").length > 0) {\r\n\t\t\t\treturn ($(obj).find(\".image_thumbnail\").attr('src').indexOf(\".gif\") !== -1);\r\n\t\t\t} else {\r\n\t\t\t\tif ($(obj).find(\".image\").length > 0) {\r\n\t\t\t\t\treturn ($(obj).find(\".image\").attr('src').indexOf(\".gif\") !== -1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ($(obj).find(\".photoset_photo\").length > 0) {\r\n\t\t\t\t\t\t// do something here?\r\n\t\t\t\t\t\tif (typeof $(obj).find(\".photoset_photo\").attr('src') !== \"undefined\") {\r\n\t\t\t\t\t\t\treturn ($(obj).find(\".photoset_photo\").attr('src').indexOf(\".gif\") !== -1);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn ($(obj).find(\".photoset_photo\").attr('href').indexOf(\".gif\") !== -1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} catch(e) {\r\n\r\n\t\t\tconsole.log(\"[!!!!!!]check_if_animated --> \" + e.message);\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t},\r\n\r\n\tdo: function() {\r\n\r\n\t\tvar posts = XKit.interface.get_posts(\"disable-gifs-checked\");\r\n\r\n\t\t$(posts).each(function() {\r\n\r\n\t\t\t$(this).addClass(\"disable-gifs-checked\");\r\n\r\n\t\t\tif ($(this).hasClass(\"xkit-dont-run-extensions\")) { return; }\r\n\r\n\t  \t\tvar m_post = XKit.interface.post($(this));\r\n\t  \t\t// if (m_post.animated !== true) { return; }\r\n\r\n\t\t\tvar image_src = \"\";\r\n\t\t\t//alert(XKit.extensions.disable_gifs.check_if_animated($(this)));\r\n\t\t\tif (XKit.extensions.disable_gifs.check_if_animated($(this)) === false) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (XKit.extensions.disable_gifs.preferences.hide_completely.value === true) {\r\n\t\t\t\t$(this).addClass(\"xkit-disable-gifs-completely\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ($(this).find(\".image_thumbnail\").length > 0) {\r\n\t\t\t\t$(this).find(\".image_thumbnail\").css(\"display\",\"none\");\r\n\t\t\t\tXKit.extensions.disable_gifs.return_as_jpg($(this).find(\".image_thumbnail\").attr('src'), $(this).find(\".image_thumbnail\").attr('width'), $(this).find(\".image_thumbnail\").attr('height'), m_post.id, $(this).find(\".image_thumbnail\"), this);\r\n\t\t\t} else {\r\n\t\t\t\tif ($(this).find(\".image\").length > 0) {\r\n\t\t\t\t\t$(this).find(\".image\").css(\"display\",\"none\");\r\n\t\t\t\t\tXKit.extensions.disable_gifs.return_as_jpg($(this).find(\".image\").attr('src'), $(this).find(\".image\").attr('width'), $(this).find(\".image\").attr('height'), m_post.id, $(this).find(\".image\"), this);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif ($(this).find(\".photoset_photo\").length > 0) {\r\n\t\t\t\t\t\t// do something here?\r\n\t\t\t\t\t\tvar img_id = 0;\r\n\t\t\t\t\t\tvar m_parent = $(this);\r\n\t\t\t\t\t\t$(this).find(\".photoset_photo\").each(function() {\r\n\t\t\t\t\t\t\t$(this).find(\"img\").css(\"display\",\"none\");\r\n\t\t\t\t\t\t\timg_id++;\r\n\t\t\t\t\t\t\tXKit.extensions.disable_gifs.return_as_jpg_photoset($(this).find(\"img\").attr('src'), $(this).find(\"img\").css('width').replace(\"px\",\"\"), $(this).find(\"img\").css('height').replace(\"px\",\"\"), m_post.id, $(this), m_parent, $(this).parent(), $(this), img_id, \"es\");\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar this_id = m_post.root_id;\r\n\t\t\tXKit.interface.add_control_button(this, \"disable_gifs_button\", \"data-root-id=\\\"\" + this_id + \"\\\"\");\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\ton_click: function(e) {\r\n\r\n\t\tvar obj = e.target || e.srcElement;\r\n\t\tvar parent = $(obj).parentsUntil(\"#posts\");\r\n\r\n\t\t$(parent).toggleClass(\"xkit-disable-gifs-playing\");\r\n\r\n\r\n\t\tif ($(parent).hasClass(\"xkit-disable-gifs-playing\")) {\r\n\t\t\tXKit.interface.completed_control_button(obj, true);\r\n\t\t\t$(parent).find(\".image, .image_thumbnail, .photoset_photo img\").css(\"display\",\"block\");\r\n\t\t\t$(parent).find(\".xkit-disable-gifs-canvas-container\").css(\"display\",\"none\");\r\n\t\t}else {\r\n\t\t\tXKit.interface.completed_control_button(obj, false);\r\n\t\t\t$(parent).find(\".image, .image_thumbnail, .photoset_photo img\").css(\"display\",\"none\");\r\n\t\t\t$(parent).find(\".xkit-disable-gifs-canvas-container\").css(\"display\",\"block\");\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tXKit.tools.remove_css(\"disable_gifs\");\r\n\t\tthis.running = false;\r\n\t}\r\n\r\n});\r\n","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpGNzdGMTE3NDA3MjA2ODExODA4MzkyMjM2MzU5MTQ4NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNEVGRjI5NzNBQkYxMUUzOEU0MkZBNUQ5QjU5M0FBOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNEVGRjI5NjNBQkYxMUUzOEU0MkZBNUQ5QjU5M0FBOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZCN0YxMTc0MDcyMDY4MTE4MDgzOTIyMzYzNTkxNDg0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkY3N0YxMTc0MDcyMDY4MTE4MDgzOTIyMzYzNTkxNDg0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Uek0cwAAAPtJREFUeNpi/L6agaaAiYFh1IIBtoCFgXHUB+RYwBH4nxjNP9Yz0tgHjMT4AI8DN+A0gCPgPzXigJEaPmDErQiP1M9NjPgVkOYDdl+iAuTnZkZqBxER6kmw4OdWnErZvf/jsoAJJIqJ4BZg4wKNYxRwwqceCTGBCgtMBHGX138gQpQmSLJs1nsZBdzQ1GM1Cq8P0AIKVZbNaicxPsAeBz93MWK3AAn8OZ+O0ylkFhVIKv9cyPj7ZhZxFjCxEl20Q1X+3MuGzMVUgOYDASLNZ3f+RciLAliLCm5qFf1YjWL8eUCD1hUOK60tYKe1BWyjFhCo0ZhYhnYkAwQYAB9LJMlalcSTAAAAAElFTkSuQmCC","css":".xkit-disable-gifs-canvas-thumbnail {\r\n\tmax-width: 100%;\r\n\tposition: relative;\r\n}\r\n\r\n.post.post_full.is_photo { visibility: hidden !important; }\r\n.post.disable-gifs-checked.post_full.is_photo { visibility: visible !important; }\r\n\r\n.post.disable-gifs-checked.post_full.is_photo.xkit-disable-gifs-completely { display: none !important; }\r\n\r\n.xkit-disable-gifs-completely { display: none !important; }\r\n\r\n.xkit-disable-gifs-canvas-container {\r\n\tposition: relative;\r\n}\r\n\r\n.xkit-disable-gifs-canvas-thumbnail.enlarged-canvas {\r\n\twidth: 100%;\r\n}\r\n\r\n.xkit-disable-gifs-indicator {\r\n\tposition: absolute;\r\n\ttop: 50%; left: 50%;\r\n\tmargin-left: -19px;\r\n\tmargin-top: -19px;\r\n\tz-index: 10;\r\n\tpointer-events: none;\r\n}\r\n","title":"Disable Gifs","description":"Stops GIFs on dashboard","developer":"STUDIOXENIX","version":"0.3.0","frame":"false","beta":"false","slow":"true","details":"This is a very early preview version of an extension that allows you to stop the GIFs from playing on your dashboard. If you still would like to view them, you can click on the Play button on the post. Please note that for now, this extension can't stop GIFs added to text posts.","file":"found","server":"up","errors":false}