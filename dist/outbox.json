{"id":"outbox","script":"//* TITLE Outbox **//\r\n//* VERSION 0.9.5 **//\r\n//* DESCRIPTION Saves your sent replies, fan mail and asks. **//\r\n//* DETAILS This extension stores and lets you view the last 50 asks you've answered privately. Please keep in mind that this is a highly experimental extension, so if you hit a bug, please send the XKit blog an ask with the problem you've found. **//\r\n//* DEVELOPER STUDIOXENIX **//\r\n//* FRAME false **//\r\n//* BETA false **//\r\n\r\nXKit.extensions.outbox = new Object({\r\n\r\n\trunning: false,\r\n\r\n\tfan_mail_form_key: \"\",\r\n\r\n\tpreferences: {\r\n\t\t\"sep0\": {\r\n\t\t\ttext: \"User interface options\",\r\n\t\t\ttype: \"separator\"\r\n\t\t},\r\n\t\t\"show_checkbox\": {\r\n\t\t\ttext: \"Show 'Save to Outbox' checkbox in Inbox\",\r\n\t\t\tdefault: true,\r\n\t\t\tvalue: true\r\n\t\t},\r\n\t\t\"sep1\": {\r\n\t\t\ttext: \"Storage options\",\r\n\t\t\ttype: \"separator\"\r\n\t\t},\r\n\t\t\"use_shared\": {\r\n\t\t\ttext: \"Use Shared Storage (turn on if outbox messages are disappearing)\",\r\n\t\t\tdefault: true,\r\n\t\t\tvalue: true\r\n\t\t},\r\n\t},\r\n\r\n\tframe_run: function() {\r\n\r\n\t\tXKit.console.add(\"Outbox working on Frame mode...\");\r\n\t\tthis.run_fan_mail(true);\r\n\t\tif (document.location.href.indexOf('/ask_form') !== -1) {\r\n\t\t\tthis.run_ask_frame();\r\n\t\t}\r\n\r\n\t},\r\n\r\n\trun_ask_frame: function() {\r\n\r\n\t\tvar form_key = $(\"#form_key\").val();\r\n\t\tif (typeof form_key === \"undefined\") { return; }\r\n\r\n\t\t$(document).on(\"click\", \"#ask_button\", function() {\r\n\r\n\t\t\tvar m_messages = XKit.storage.get(\"outbox\", \"messages_\" + form_key, \"\");\r\n\t\t\tif (XKit.extensions.outbox.preferences.use_shared.value == true) {\r\n\t\t\t\tm_messages = XKit.storage.get(\"outbox\", \"messages\", \"\");\r\n\t\t\t}\r\n\r\n\t\t\tvar m_messages_array = \"\";\r\n\r\n\t\t\ttry {\r\n\t\t\t\tm_messages_array = JSON.parse(m_messages);\r\n\t\t\t\tif (m_messages_array.length >= 50) {\r\n\t\t\t\t\t// remove the last element.\r\n\t\t\t\t\tm_messages_array.pop();\r\n\t\t\t\t}\r\n\t\t\t} catch(e) {\r\n\t\t\t\tm_messages_array = new Array();\r\n\t\t\t}\r\n\r\n\t\t\tm_username = document.location.href.substring(document.location.href.indexOf('/ask_form') + 10);\r\n\t\t\tm_username = m_username.substring(0, m_username.indexOf(\".\"));\r\n\r\n\t\t\tvar m_obj = new Object();\r\n\t\t\tm_obj.avatar = \"ask\";\r\n\t\t\tm_obj.username = $(\"#tumblelog_name\").find(\".name\").html();\r\n\t\t\tm_obj.message = $(\"#question\").val();\r\n\t\t\tm_obj.answer = \"\";\r\n\t\t\tm_obj.to = m_username;\r\n\t\t\tm_obj.time = new Date().getTime();\r\n\r\n\t\t\tm_messages_array.unshift(m_obj);\r\n\t\t\t//XKit.storage.set(\"outbox\", \"messages_\" + form_key, JSON.stringify(m_messages_array));\r\n\t\t\tif (XKit.extensions.outbox.preferences.use_shared.value == true) {\r\n\t\t\t\tXKit.storage.set(\"outbox\", \"messages\", JSON.stringify(m_messages_array));\r\n\t\t\t} else {\r\n\t\t\t\tXKit.storage.set(\"outbox\", \"messages_\" + form_key, JSON.stringify(m_messages_array));\r\n\t\t\t}\r\n\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\trun_fan_mail: function(wait) {\r\n\r\n\t\tfunction get_fanmail_send_button() {\r\n\t\t\tvar fanmail_iframe = document.getElementById(\"send_fan_mail_lightbox\");\r\n\t\t\tvar send_button = fanmail_iframe != null\r\n\t\t\t\t? fanmail_iframe.contentWindow.document.getElementsByClassName(\"send\")\r\n\t\t\t\t: document.getElementsByClassName(\"send\");\r\n\t\t\treturn send_button.length > 0 ? send_button[0] : null;\r\n\t\t}\r\n\r\n\t\tif (wait === true) {\r\n\t\t\tif (get_fanmail_send_button() == null) {\r\n\t\t\t\tXKit.console.add(\"Waiting for fan-mail window to pop up..\");\r\n\t\t\t\tsetTimeout(function() { XKit.extensions.outbox.run_fan_mail(true); }, 200);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tget_fanmail_send_button().onclick = XKit.extensions.outbox.save_fan_mail;\r\n\t\t}\r\n\r\n\t\tXKit.console.add(\"Activating run_fan_mail on outbox...\");\r\n\t\tXKit.extensions.outbox.fan_mail_form_key = $('meta[name=tumblr-form-key]').attr(\"content\");\r\n\r\n\t},\r\n\r\n\tsave_fan_mail: function(e) {\r\n\r\n\t\tvar base_document = document.getElementById(\"send_fan_mail_lightbox\") != null\r\n\t\t\t? document.getElementById(\"send_fan_mail_lightbox\").contentWindow.document\r\n\t\t\t: document;\r\n\t\tvar message_textarea = base_document.getElementsByClassName(\"message\")[0];\r\n\t\tvar m_msg = message_textarea.value;\r\n\t\tvar check_status = $(\"#checkmark\").css(\"display\") !== \"none\";\r\n\r\n\t\tif ($(\"#to_input\").attr('type') === \"hidden\") {\r\n\t\t\tXKit.console.add(\"outbox: to field hidden, validating.\");\r\n\t\t\tcheck_status = true;\r\n\t\t} else {\r\n\t\t\tXKit.console.add(\"outbox: to field text box, might not make it.\");\r\n\t\t}\r\n\r\n\t\tif ($.trim(m_msg) == \"\" || check_status !== true) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar m_messages = XKit.storage.get(\"outbox\", \"messages_\" + XKit.extensions.outbox.fan_mail_form_key, \"\");\r\n\t\tif (XKit.extensions.outbox.preferences.use_shared.value == true) {\r\n\t\t\tm_messages = XKit.storage.get(\"outbox\", \"messages\", \"\");\r\n\t\t}\r\n\r\n\t\tvar m_messages_array = \"\";\r\n\r\n\t\ttry {\r\n\t\t\tm_messages_array = JSON.parse(m_messages);\r\n\t\t\tif (m_messages_array.length >= 50) {\r\n\t\t\t\t// remove the last element.\r\n\t\t\t\tm_messages_array.pop();\r\n\t\t\t}\r\n\t\t} catch(e) {\r\n\t\t\tm_messages_array = new Array();\r\n\t\t}\r\n\r\n\t\tvar m_obj = new Object();\r\n\t\tm_obj.avatar = \"fan_mail\";\r\n\t\tm_obj.username = base_document.getElementById(\"select_tumblelog_from\").value;\r\n\t\tm_obj.message = m_msg;\r\n\t\tm_obj.answer = \"\";\r\n\t\tm_obj.to = base_document.getElementById(\"to_input\").value\r\n\t\tm_obj.time = new Date().getTime();\r\n\r\n\t\tvar form_key = $('meta[name=tumblr-form-key]').attr(\"content\");\r\n\r\n\t\tm_messages_array.unshift(m_obj);\r\n\t\t//XKit.storage.set(\"outbox\", \"messages_\" + XKit.extensions.outbox.fan_mail_form_key, JSON.stringify(m_messages_array));\r\n\t\tif (XKit.extensions.outbox.preferences.use_shared.value == true) {\r\n\t\t\tXKit.storage.set(\"outbox\", \"messages\", JSON.stringify(m_messages_array));\r\n\t\t} else {\r\n\t\t\tXKit.storage.set(\"outbox\", \"messages_\" + form_key, JSON.stringify(m_messages_array));\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tcheck_indash_asks: function() {\r\n\r\n\t\tvar form_key = XKit.interface.form_key();\r\n\r\n\t\t$(document).on(\"click\", \"#ask_button\", function() {\r\n\r\n\t\t\tvar m_messages = XKit.storage.get(\"outbox\", \"messages_\" + form_key, \"\");\r\n\t\t\tif (XKit.extensions.outbox.preferences.use_shared.value == true) {\r\n\t\t\t\tm_messages = XKit.storage.get(\"outbox\", \"messages\", \"\");\r\n\t\t\t}\r\n\r\n\t\t\tvar m_messages_array = \"\";\r\n\r\n\t\t\ttry {\r\n\t\t\t\tm_messages_array = JSON.parse(m_messages);\r\n\t\t\t\tif (m_messages_array.length >= 50) {\r\n\t\t\t\t\t// remove the last element.\r\n\t\t\t\t\tm_messages_array.pop();\r\n\t\t\t\t}\r\n\t\t\t} catch(e) {\r\n\t\t\t\tm_messages_array = new Array();\r\n\t\t\t}\r\n\r\n\t\t\tm_username = document.location.href.substring(document.location.href.indexOf('/ask_form') + 10);\r\n\t\t\tm_username = m_username.substring(0, m_username.indexOf(\".\"));\r\n\r\n\t\t\tvar m_obj = new Object();\r\n\t\t\tm_obj.avatar = \"ask\";\r\n\t\t\tm_obj.username = $(\"#from\").find(\".tumblelog_name\").html();\r\n\t\t\tm_obj.message = $(\"#question\").val();\r\n\t\t\tm_obj.answer = \"\";\r\n\t\t\tm_obj.to = $(\"#recipient_label\").html();\r\n\t\t\tm_obj.time = new Date().getTime();\r\n\r\n\t\t\tm_messages_array.unshift(m_obj);\r\n\t\t\t//XKit.storage.set(\"outbox\", \"messages_\" + form_key, JSON.stringify(m_messages_array));\r\n\t\t\tif (XKit.extensions.outbox.preferences.use_shared.value == true) {\r\n\t\t\t\tXKit.storage.set(\"outbox\", \"messages\", JSON.stringify(m_messages_array));\r\n\t\t\t} else {\r\n\t\t\t\tXKit.storage.set(\"outbox\", \"messages_\" + form_key, JSON.stringify(m_messages_array));\r\n\t\t\t}\r\n\r\n\r\n\t\t});\r\n\r\n\t},\r\n\r\n\trun: function() {\r\n\t\tthis.running = true;\r\n\r\n\t\tXKit.extensions.outbox.check_indash_asks();\r\n\r\n\t\tif (XKit.interface.where().inbox !== true && document.location.href.indexOf('://www.tumblr.com/send') == -1) {\r\n\t\t\tXKit.console.add(\"Outbox -> Quitting, not in inbox\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tXKit.extensions.outbox.run_fan_mail(true);\r\n\r\n\t\tif (document.location.href.indexOf('://www.tumblr.com/send') !== -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tXKit.tools.init_css(\"outbox\");\r\n\r\n\t\txf_html = '<ul class=\"controls_section\" id=\"xkit_outbox_ul\"><li class=\"section_header selected\">OUTGOING</li>' +\r\n\t\t\t'<li class=\"\" style=\"height: 36px;\"><a href=\"#\" onclick=\"return false;\" id=\"xkit-outbox-button\">' +\r\n\t\t\t\t'<div class=\"hide_overflow\" style=\"color: rgba(255, 255, 255, 0.5) !important; font-weight: bold; padding-left: 10px; padding-top: 8px;\">My Outbox</div>' +\r\n\t\t\t'</a></li></ul>';\r\n\t\t$(\"ul.controls_section:last\").before(xf_html);\r\n\r\n\t\t$(\".controls_section.inbox\").prepend(\"<li class=\\\"section_header selected\\\">INCOMING</li>\");\r\n\r\n\t\t$(\"#xkit-outbox-button\").click(function() {\r\n\r\n\t\t\tif ($(this).parent().hasClass(\"xkit-selected\") == false) {\r\n\r\n\t\t\t\t$(this).parent().addClass(\"xkit-selected\");\r\n\t\t\t\t$(this).parent().addClass(\"selected\");\r\n\t\t\t\tXKit.extensions.outbox.start();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t$(this).parent().removeClass(\"xkit-selected\");\r\n\t\t\t\t$(this).parent().removeClass(\"selected\");\r\n\t\t\t\tXKit.extensions.outbox.end();\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tvar form_key = $('meta[name=tumblr-form-key]').attr(\"content\");\r\n\t\tif (form_key === \"\" ||typeof form_key === \"undefined\") {\r\n\t\t\tXKit.notifications.add(\"Can't load Outbox, data-form-key not defined.\",\"error\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tXKit.post_listener.add(\"outbox_init\", XKit.extensions.outbox.init_outbox_buttons);\r\n\t\tXKit.extensions.outbox.init_outbox_buttons();\r\n\r\n\t\t$(document).on('click','.xkit-outbox-save-checkbox', function() {\r\n\t\t\t$(this).toggleClass(\"selected\");\r\n\t\t});\r\n\r\n\t},\r\n\r\n\tinit_outbox_buttons: function() {\r\n\r\n\t\t$(\"[id^='ask_answer_link_']\").unbind(\"click\", XKit.extensions.outbox.save_activate);\r\n\t\t$(\"[id^='ask_answer_link_']\").bind(\"click\", XKit.extensions.outbox.save_activate);\r\n\r\n\t\t$(\".controls_link.reply_link\").unbind(\"click\", XKit.extensions.outbox.run_fan_mail(true));\r\n\t\t$(\".controls_link.reply_link\").bind(\"click\", XKit.extensions.outbox.run_fan_mail(true));\r\n\r\n\t},\r\n\r\n\tsave_activate: function(e) {\r\n\r\n\t\tvar obj = e.target || e.srcElement;\r\n\t\tvar m_parent = $(obj).parentsUntil(\".post\").parent();\r\n\t\tvar private_button = $(m_parent).find('[id^=\"private_answer_button_\"]');\r\n\r\n\t\tif ($(m_parent).hasClass(\"xkit-outbox-activated\") === true) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (XKit.extensions.outbox.preferences.show_checkbox.value == true) {\r\n\t\t\t$(m_parent).find(\".chrome.ask_cancel_button\").before(\"<div style=\\\"padding-top: 5px; margin-bottom: 10px;\\\"><div class=\\\"xkit-checkbox xkit-outbox-save-checkbox selected\\\"><b>&nbsp</b>Save to outbox if answered privately</div></div>\");\r\n\t\t}\r\n\r\n\t\t$(m_parent).addClass(\"xkit-outbox-activated\");\r\n\t\t$(private_button).bind(\"click\", XKit.extensions.outbox.save);\r\n\r\n\t},\r\n\r\n\tsave: function(e) {\r\n\r\n\t\tvar obj = e.target || e.srcElement;\r\n\r\n\t\tvar m_parent = $(obj).parentsUntil(\".post\").parent();\r\n\r\n\t\tif ($(m_parent).find(\".xkit-outbox-save-checkbox\").length > 0) {\r\n\r\n\t\t\tif (!$(m_parent).find(\".xkit-outbox-save-checkbox\").hasClass(\"selected\")) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tvar m_avatar = $(m_parent).find(\".post_avatar_image\").attr('src');\r\n\t\tvar m_username = $(m_parent).find(\".post_info\").find(\"a\").html();\r\n\t\tvar m_message = $(m_parent).find(\".post_body\").html();\r\n\t\tvar m_to = $(m_parent).attr('data-tumblelog-name');\r\n\r\n\t\tvar post_id = $(m_parent).attr('data-post-id');\r\n\t\tXKit.extensions.outbox.poke_tinymce(post_id);\r\n\r\n\t\tif (m_message.indexOf(\"<div id=\\\"ask_answer_\") !== -1) {\r\n\r\n\t\t\tm_message = m_message.substring(0, m_message.indexOf(\"<div\"));\r\n\r\n\t\t}\r\n\r\n\t\tvar m_answer = $('#ask_answer_field_' + post_id).val();\r\n\r\n\t\tsetTimeout(function() {\r\n\r\n\t\t\tm_answer = $('#ask_answer_field_' + post_id).val();\r\n\r\n\t\t\tvar form_key = $('meta[name=tumblr-form-key]').attr(\"content\");\r\n\t\t\tvar m_messages = XKit.storage.get(\"outbox\", \"messages_\" + form_key, \"\");\r\n\t\t\tif (XKit.extensions.outbox.preferences.use_shared.value == true) {\r\n\t\t\t\tm_messages = XKit.storage.get(\"outbox\", \"messages\", \"\");\r\n\t\t\t}\r\n\r\n\t\t\tvar m_messages_array = \"\";\r\n\r\n\t\t\ttry {\r\n\t\t\t\tm_messages_array = JSON.parse(m_messages);\r\n\t\t\t\tif (m_messages_array.length >= 50) {\r\n\t\t\t\t\t// remove the last element.\r\n\t\t\t\t\tm_messages_array.pop();\r\n\t\t\t\t}\r\n\t\t\t} catch(e) {\r\n\t\t\t\tm_messages_array = new Array();\r\n\t\t\t}\r\n\r\n\t\t\tvar m_obj = new Object();\r\n\t\t\tm_obj.avatar = m_avatar;\r\n\t\t\tm_obj.username = m_username;\r\n\t\t\tm_obj.message = m_message;\r\n\t\t\tm_obj.answer = m_answer;\r\n\t\t\tm_obj.to = m_to;\r\n\t\t\tm_obj.time = new Date().getTime();\r\n\r\n\t\t\tm_messages_array.unshift(m_obj);\r\n\r\n\t\t\tif (XKit.extensions.outbox.preferences.use_shared.value == true) {\r\n\t\t\t\tXKit.storage.set(\"outbox\", \"messages\", JSON.stringify(m_messages_array));\r\n\t\t\t} else {\r\n\t\t\t\tXKit.storage.set(\"outbox\", \"messages_\" + form_key, JSON.stringify(m_messages_array));\r\n\t\t\t}\r\n\t\t\tXKit.notifications.add(\"Saved to outbox.\",\"ok\");\r\n\r\n\t\t}, 1);\r\n\r\n\t},\r\n\r\n\tpoke_tinymce: function(post_id) {\r\n\t\tsource = \" if (tinyMCE && tinyMCE.get('ask_answer_field_\" + post_id + \"')) {  \" +\r\n\t\t\t\t\t\t\" document.getElementById('ask_answer_field_\" + post_id + \"').value = (tinyMCE.get('ask_answer_field_\" + post_id + \"').getContent()); \" +\r\n\t\t\t\t \" } \";\r\n\r\n\t\tif ('function' == typeof source) {\r\n\t\t\t\tsource = '(' + source + ')();'\r\n\t\t}\r\n\r\n\t\tvar script = document.createElement('script');\r\n\t\tscript.setAttribute(\"type\", \"application/javascript\");\r\n\t\tscript.textContent = source;\r\n\t\tdocument.body.appendChild(script);\r\n\t},\r\n\r\n\tstart: function() {\r\n\r\n\t\tXKit.tools.add_css(\" .post { display: none; } .post.by-xkit-outbox { display: block !important; } #auto_pagination_loader, #next_page_link { display: none !important; } \", \"outbox_additional\");\r\n\r\n\t\tvar form_key = $('meta[name=tumblr-form-key]').attr(\"content\");;\r\n\t\tif (form_key === \"\" ||typeof form_key === \"undefined\") {\r\n\t\t\tXKit.extensions.outbox.show_empty(\"Can't load messages,<br/>data-form-key not found.\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar m_messages = XKit.storage.get(\"outbox\", \"messages_\" + form_key, \"\");\r\n\t\tif (XKit.extensions.outbox.preferences.use_shared.value == true) {\r\n\t\t\tm_messages = XKit.storage.get(\"outbox\", \"messages\", \"\");\r\n\t\t}\r\n\r\n\t\tif (m_messages === \"\") {\r\n\t\t\tXKit.extensions.outbox.show_empty();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar messages_array;\r\n\t\ttry {\r\n\t\t\tmessages_array = JSON.parse(m_messages);\r\n\t\t\tXKit.extensions.outbox.show(messages_array);\r\n\t\t\t$(document).on('click','.xkit-outbox-delete', XKit.extensions.outbox.delete);\r\n\t\t} catch(e) {\r\n\t\t\tXKit.extensions.outbox.show_empty(\"Can't load messages,<br/>\" + e.message);\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tdelete: function(e) {\r\n\r\n\t\tvar obj = e.target;\r\n\r\n\t\tvar form_key = $('meta[name=tumblr-form-key]').attr(\"content\");\r\n\t\tvar m_messages = XKit.storage.get(\"outbox\", \"messages_\" + form_key, \"\");\r\n\t\tif (XKit.extensions.outbox.preferences.use_shared.value == true) {\r\n\t\t\tm_messages = XKit.storage.get(\"outbox\", \"messages\", \"\");\r\n\t\t}\r\n\r\n\t\tvar m_messages_array = \"\";\r\n\r\n\t\ttry {\r\n\t\t\tm_messages_array = JSON.parse(m_messages);\r\n\t\t} catch(e) {\r\n\t\t\tm_messages_array = new Array();\r\n\t\t}\r\n\r\n\t\tconsole.log(m_messages_array);\r\n\t\tm_messages_array.splice(parseInt($(obj).attr('data-outbox-id')), 1);\r\n\r\n\t\tconsole.log(m_messages_array);\r\n\r\n\t\tif (XKit.extensions.outbox.preferences.use_shared.value == true) {\r\n\t\t\tXKit.storage.set(\"outbox\", \"messages\", JSON.stringify(m_messages_array));\r\n\t\t} else {\r\n\t\t\tXKit.storage.set(\"outbox\", \"messages_\" + form_key, JSON.stringify(m_messages_array));\r\n\t\t}\r\n\t\t// XKit.storage.set(\"outbox\", \"messages_\" + form_key, JSON.stringify(m_messages_array));\r\n\r\n\t\tvar parent = $(obj).parentsUntil('#posts');\r\n\t\t$(parent).fadeOut('slow', function() {\r\n\t\t\t$(parent).remove();\r\n\t\t});\r\n\r\n\r\n\r\n\t},\r\n\r\n\tshow: function(m_array) {\r\n\r\n\t\tvar m_html = \"\";\r\n\t\tfor (var m_message in m_array) {\r\n\r\n\t\t\tvar m_obj = m_array[m_message];\r\n\r\n\t\t\tm_html = m_html + XKit.extensions.outbox.render(m_obj, m_message);\r\n\r\n\t\t}\r\n\r\n\t\t$(\"#posts\").prepend(m_html);\r\n\r\n\t},\r\n\r\n\trender_ask: function(obj, m_id) {\r\n\r\n\t\tvar to_return = \"<li class=\\\"post_container\\\"><div class=\\\"post is_note note is_mine post_full by-xkit-outbox is_mine is_original is_private_answer no_source\\\">\";\r\n\r\n\t\tvar m_link = \"<a href=\\\"http://\" + obj.to + \".tumblr.com/\\\">\" + obj.to + \"</a>\";\r\n\r\n\t\tvar av_link = \"<a href=\\\"http://\" + obj.username + \".tumblr.com/\\\"><img width=\\\"24\\\" height=\\\"24\\\" src=\\\"\" + obj.avatar + \"\\\"></a>\";\r\n\t\tvar av_text = \"<a href=\\\"http://\" + obj.username + \".tumblr.com/\\\" class=\\\"post_question_asker\\\">\" + obj.username + \"</a>\";\r\n\r\n\t\tvar m_day = \"\";\r\n\t\tvar m_date = \"\";\r\n\r\n\t\tif (obj.time !== \"\" && typeof obj.time !== \"undefined\") {\r\n\t\t\tvar m = moment(obj.time);\r\n\t\t\tm_day = m.format('ddd');\r\n\t\t\tm_date = m.format('hh:mm a');\r\n\t\t} else {\r\n\t\t\tm_day = \"?\";\r\n\t\t\tm_date = \"Unknown\";\r\n\t\t}\r\n\r\n\t\tobj.message = $(\"<div>\" + obj.message + \"</div>\").text();\r\n\r\n\t\tto_return = to_return + \"<div class=\\\"post_avatar\\\"><div class=\\\"queue\\\">\" +\r\n        \t\t\t\t\"<div class=\\\"publish_info day publish_on_day\\\">\" + m_day + \"</div>\" +\r\n       \t\t\t\t\t\"<div class=\\\"publish_info time publish_on_time\\\">\" + m_date + \"</div>\" +\r\n\t\t\t\t\"</div></div>\";\r\n\r\n\t\tto_return = to_return + \"<div class=\\\"post-wrapper\\\">\" +\r\n\t\t\t\t\"<span class=\\\"xkit-outbox-fanmail-indicator\\\">sent ask</span>\" +\r\n\t\t\t\t\"<div class=\\\"post_header\\\"><div class=\\\"post_info\\\">You've sent to \" + m_link + \"</div></div>\" +\r\n\t\t\t\t\"<div class=\\\"post_content clearfix\\\"><div class=\\\"post_content_inner clearfix\\\">\" +\r\n\t\t\t\t\t\"<div class=\\\"post_body\\\">\" +\r\n\t\t\t\t\t\t\"<div class=\\\"clear\\\">&nbsp;</div>\" +\r\n\t\t\t\t\t\t\"<div class=\\\"post_question_fan_mail\\\">\" + obj.message + \"</div>\" +\r\n\t\t\t\t\t\"</div>\" +\r\n\t\t\t\t\"</div></div>\" +\r\n\t\t\t\t\"<div class=\\\"post_footer clearfix\\\">\" +\r\n\t\t\t\t\t\"<div class=\\\"post_notes\\\"><div class=\\\"post_notes_inner\\\"></div></div>\" +\r\n\t\t\t\t\t\"<div class=\\\"post_controls\\\" role=\\\"toolbar\\\"><div class=\\\"post_controls_inner\\\">\" +\r\n\t\t\t\t\t\t\"<div class=\\\"post_control deny-xoutbox xkit-outbox-delete\\\" data-outbox-id=\\\"\" + m_id + \"\\\" title=\\\"Delete\\\"></div>\" +\r\n\t\t\t\t\t\"</div></div>\" +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t    \"</div>\";\r\n\r\n\t\tto_return = to_return + \"</div></li>\";\r\n\r\n\t\treturn to_return;\r\n\r\n\t},\r\n\r\n\trender_fan_mail: function(obj, m_id) {\r\n\r\n\t\tvar to_return = \"<li class=\\\"post_container\\\"><div class=\\\"post is_note note is_mine post_full by-xkit-outbox is_mine is_original is_private_answer no_source\\\">\";\r\n\r\n\t\tvar m_link = \"<a href=\\\"http://\" + obj.to + \".tumblr.com/\\\">\" + obj.to + \"</a>\";\r\n\r\n\t\tvar av_link = \"<a href=\\\"http://\" + obj.username + \".tumblr.com/\\\"><img width=\\\"24\\\" height=\\\"24\\\" src=\\\"\" + obj.avatar + \"\\\"></a>\";\r\n\t\tvar av_text = \"<a href=\\\"http://\" + obj.username + \".tumblr.com/\\\" class=\\\"post_question_asker\\\">\" + obj.username + \"</a>\";\r\n\r\n\t\tvar m_day = \"\";\r\n\t\tvar m_date = \"\";\r\n\r\n\t\tif (obj.time !== \"\" && typeof obj.time !== \"undefined\") {\r\n\t\t\tvar m = moment(obj.time);\r\n\t\t\tm_day = m.format('ddd');\r\n\t\t\tm_date = m.format('hh:mm a');\r\n\t\t} else {\r\n\t\t\tm_day = \"?\";\r\n\t\t\tm_date = \"Unknown\";\r\n\t\t}\r\n\r\n\t\tobj.message = $(\"<div>\" + obj.message + \"</div>\").text();\r\n\r\n\t\tto_return = to_return + \"<div class=\\\"post_avatar\\\"><div class=\\\"queue\\\">\" +\r\n        \t\t\t\t\"<div class=\\\"publish_info day publish_on_day\\\">\" + m_day + \"</div>\" +\r\n       \t\t\t\t\t\"<div class=\\\"publish_info time publish_on_time\\\">\" + m_date + \"</div>\" +\r\n\t\t\t\t\"</div></div>\";\r\n\r\n\t\tto_return = to_return + \"<div class=\\\"post-wrapper\\\">\" +\r\n\t\t\t\t\"<span class=\\\"xkit-outbox-fanmail-indicator\\\">fan mail</span>\" +\r\n\t\t\t\t\"<div class=\\\"post_header\\\"><div class=\\\"post_info\\\">You've sent to \" + m_link + \"</div></div>\" +\r\n\t\t\t\t\"<div class=\\\"post_content clearfix\\\"><div class=\\\"post_content_inner clearfix\\\">\" +\r\n\t\t\t\t\t\"<div class=\\\"post_body\\\">\" +\r\n\t\t\t\t\t\t\"<div class=\\\"clear\\\">&nbsp;</div>\" +\r\n\t\t\t\t\t\t\"<div class=\\\"post_question_fan_mail\\\">\" + obj.message + \"</div>\" +\r\n\t\t\t\t\t\"</div>\" +\r\n\t\t\t\t\"</div></div>\" +\r\n\t\t\t\t\"<div class=\\\"post_footer clearfix\\\">\" +\r\n\t\t\t\t\t\"<div class=\\\"post_notes\\\"><div class=\\\"post_notes_inner\\\"></div></div>\" +\r\n\t\t\t\t\t\"<div class=\\\"post_controls\\\" role=\\\"toolbar\\\"><div class=\\\"post_controls_inner\\\">\" +\r\n\t\t\t\t\t\t\"<div class=\\\"post_control deny-xoutbox xkit-outbox-delete\\\" data-outbox-id=\\\"\" + m_id + \"\\\" title=\\\"Delete\\\"></div>\" +\r\n\t\t\t\t\t\"</div></div>\" +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t    \"</div>\";\r\n\r\n\t\tto_return = to_return + \"</div></li>\";\r\n\r\n\t\treturn to_return;\r\n\r\n\t},\r\n\r\n\trender: function(obj, m_id) {\r\n\r\n\t\tif (obj.avatar === \"fan_mail\") {\r\n\t\t\treturn XKit.extensions.outbox.render_fan_mail(obj, m_id);\r\n\t\t}\r\n\r\n\t\tif (obj.avatar === \"ask\") {\r\n\t\t\treturn XKit.extensions.outbox.render_ask(obj, m_id);\r\n\t\t}\r\n\r\n\t\tvar to_return = \"<li class=\\\"post_container\\\"><div class=\\\"post is_note note is_mine post_full by-xkit-outbox is_mine is_original is_private_answer no_source\\\">\";\r\n\r\n\t\tvar m_link = \"<a href=\\\"http://\" + obj.username + \".tumblr.com/\\\">\" + obj.username + \"</a>\";\r\n\r\n\t\tvar av_link = \"<a href=\\\"http://\" + obj.username + \".tumblr.com/\\\"><img width=\\\"24\\\" height=\\\"24\\\" src=\\\"\" + obj.avatar + \"\\\"></a>\";\r\n\t\tvar av_text = \"<a href=\\\"http://\" + obj.username + \".tumblr.com/\\\" class=\\\"post_question_asker\\\">\" + obj.username + \"</a>\";\r\n\r\n\t\tvar m_day = \"\";\r\n\t\tvar m_date = \"\";\r\n\r\n\t\tif (obj.time !== \"\" && typeof obj.time !== \"undefined\") {\r\n\t\t\tvar m = moment(obj.time);\r\n\t\t\tm_day = m.format('ddd');\r\n\t\t\tm_date = m.format('hh:mm a');\r\n\t\t} else {\r\n\t\t\tm_day = \"?\";\r\n\t\t\tm_date = \"Unknown\";\r\n\t\t}\r\n\r\n\t\tto_return = to_return + \"<div class=\\\"post_avatar\\\"><div class=\\\"queue\\\">\" +\r\n        \t\t\t\t\"<div class=\\\"publish_info day publish_on_day\\\">\" + m_day + \"</div>\" +\r\n       \t\t\t\t\t\"<div class=\\\"publish_info time publish_on_time\\\">\" + m_date + \"</div>\" +\r\n\t\t\t\t\"</div></div>\";\r\n\r\n\t\tif (obj.message.indexOf(\"<div\") !== -1) {\r\n\t\t\tobj.message = obj.message.substring(0, \tobj.message.indexOf(\"<div\"));\r\n\t\t}\r\n\r\n\t\tto_return = to_return + \"<div class=\\\"post-wrapper\\\">\" +\r\n\t\t\t\t\"<div class=\\\"post_header\\\"><div class=\\\"post_info\\\">You've sent to \" + m_link + \"</div></div>\" +\r\n\t\t\t\t\"<div class=\\\"post_content clearfix\\\"><div class=\\\"post_content_inner clearfix\\\">\" +\r\n\t\t\t\t\t\"<div class=\\\"post_body\\\">\" +\r\n\t\t\t\t\t\t\"<div class=\\\"clear\\\">&nbsp;</div>\" +\r\n\t\t\t\t\t\t\"<div class=\\\"post_question\\\">\" + obj.message + \"</div>\" +\r\n\t\t\t\t\t\t\"<div class=\\\"asking_avatar\\\">\" +\r\n\t\t\t\t\t\t\tav_link +\r\n\t\t\t\t\t\t\tav_text +\r\n\t\t\t\t\t\t\"</div>\" +\r\n\t\t\t\t\t\t\"<div class=\\\"post_answer_bar\\\" style=\\\"margin-top: 15px; padding-top: 15px; border-top: 1px solid #e7eaec\\\">\" + obj.answer + \"</div>\" +\r\n\t\t\t\t\t\"</div>\" +\r\n\t\t\t\t\"</div></div>\" +\r\n\t\t\t\t\"<div class=\\\"post_footer clearfix\\\">\" +\r\n\t\t\t\t\t\"<div class=\\\"post_notes\\\"><div class=\\\"post_notes_inner\\\"></div></div>\" +\r\n\t\t\t\t\t\"<div class=\\\"post_controls\\\" role=\\\"toolbar\\\"><div class=\\\"post_controls_inner\\\">\" +\r\n\t\t\t\t\t\t\"<div class=\\\"post_control deny-xoutbox xkit-outbox-delete\\\" data-outbox-id=\\\"\" + m_id + \"\\\" title=\\\"Delete\\\"></div>\" +\r\n\t\t\t\t\t\"</div></div>\" +\r\n\t\t\t\t\"</div>\" +\r\n\t\t\t    \"</div>\";\r\n\r\n\t\tto_return = to_return + \"</div></li>\";\r\n\r\n\t\treturn to_return;\r\n\r\n\t},\r\n\r\n\tshow_empty: function(m_message) {\r\n\r\n\t\tvar m_error = \"No messages on outbox yet.\";\r\n\t\tif (typeof m_message !== \"undefined\" &&m_message !== \"\") {\r\n\t\t\tm_error = m_message;\r\n\t\t}\r\n\r\n\t\t$(\".no_posts_found\").remove();\r\n\t\t$(\"#posts\").before(\"<div id=\\\"xkit-outbox-no-posts\\\" class=\\\"no_posts_found\\\" style=\\\"padding-top: 234px; padding-bottom: 234px;\\\">\" +\r\n                  \t\t  \t\t\"<i class=\\\"icon_mail\\\"></i>\" +\r\n                \t\t\t\tm_error  +\r\n                \t\t\t\"</div>\");\r\n\r\n\t},\r\n\r\n\tend: function() {\r\n\r\n\t\t$(\".by-xkit-outbox\").parent().remove();\r\n\t\t$(\"#xkit-outbox-no-posts\").remove();\r\n\t\tXKit.tools.remove_css(\"outbox_additional\");\r\n\t\t$(document).off('click','.xkit-outbox-delete', XKit.extensions.outbox.delete);\r\n\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tthis.running = false;\r\n\t\tXKit.extensions.outbox.end();\r\n\t\t$(\"[id^='ask_answer_link_']\").off(\"click\", XKit.extensions.outbox.save_activate);\r\n\t\t$(document).off(\"click\",\"#send\", XKit.extensions.outbox.save_fan_mail);\r\n\t\tXKit.post_listener.remove(\"outbox_init\");\r\n\t}\r\n\r\n});\r\n","icon":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDVFREE3NzNERUE0MTFFMjk3RDJBOUJGM0YwNzNFMEIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDVFREE3NzRERUE0MTFFMjk3RDJBOUJGM0YwNzNFMEIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowNUVEQTc3MURFQTQxMUUyOTdEMkE5QkYzRjA3M0UwQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowNUVEQTc3MkRFQTQxMUUyOTdEMkE5QkYzRjA3M0UwQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsarvEkAAAb1SURBVHjalJbNy25l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","css":"#xkit-outbox-button:after {\r\n\r\n\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDRBQkU4RUYzNkU2MTFFM0E0MTFDNDE2OTFDMzA4QzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDRBQkU4RjAzNkU2MTFFM0E0MTFDNDE2OTFDMzA4QzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowNEFCRThFRDM2RTYxMUUzQTQxMUM0MTY5MUMzMDhDNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowNEFCRThFRTM2RTYxMUUzQTQxMUM0MTY5MUMzMDhDNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pm+UtRMAAACLSURBVHjaYvz//z8DNQETkeo+AbEjMQoZiXDhVSDWgqmn1IUBSIaBwA+CTgS5EA/GBg7j04PPhb9xiNtAXU5SGF5F8ypWvcSGYRIRhoHAL2LD8N9/4sFkdP0sBFz9n1ivkpqwqZ5TSDbwPw7vEQNQ9FLdhSzkpDW6hiELlvAYXLHMQm5Y0c2FAAEGABUCn58LCOv2AAAAAElFTkSuQmCC') !important;\r\n\tbackground-position: 0px 7px !important;\r\n\tbackground-repeat: no-repeat !important;\r\n\twidth: 20px;\r\n\tcontent: \"A\";\r\n\tfont-size: 0;\r\n\topacity: 0.42;\r\n\r\n}\r\n\r\n.selected #xkit-outbox-button:after {\r\n\topacity: 1 !important;\r\n}\r\n\r\n.post_full .post_control.deny-xoutbox:after {\r\n\tbackground-position: -914px -123px;\r\n}\r\n\r\n.post_question_fan_mail {\r\n\r\n\tbackground: #e7eaec;\r\n\tpadding: 15px 20px; font-size: 22px;\r\n\tborder-radius: 5px;\r\n\tfont-weight: bold;\r\n\tline-height: 28px;\r\n\r\n}\r\n\r\n.xkit-outbox-fanmail-indicator {\r\n\r\n\tbackground: #e7eaec;\r\n\tfont-weight: bold;\r\n\tborder-radius: 4px;\r\n\tposition: absolute;\r\n\tbottom: 13px;\r\n\tleft: 20px;\r\n\tfont-size: 12px;\r\n\tpadding: 3px 8px;\r\n\r\n}","title":"Outbox","description":"Saves your sent replies, fan mail and asks.","developer":"STUDIOXENIX","version":"0.9.5","frame":"false","beta":"false","details":"This extension stores and lets you view the last 50 asks you've answered privately. Please keep in mind that this is a highly experimental extension, so if you hit a bug, please send the XKit blog an ask with the problem you've found.","file":"found","server":"up","errors":false,"slow":"false"}